

<div>
<div class="app-popover-header use-profile-card-wrapper">
    
      <div  [hidden]="imageLoaderVisible" [ngClass]="imageLoaderVisible === false ? 'app-c-avatar avatar-lg' : '' ">    
          <img [hidden]="imageLoaderVisible" [src]="userImage$ | async" alt="case manager image" class="profile-pic" (load)="onLoad()"/> 
      </div> 
      <div *ngIf="imageLoaderVisible">    
        <div mat-card-avatar class="app-c-avatar avatar-lg" *ngIf="userById$ | async as userById;">
          <span class="profile-text-avatar" >
          {{userById.firstName.charAt(0)}}{{userById?.lastName?.charAt(0)}} 
          </span>
        </div>
      </div>  
      <div *ngIf="userById$ | async as userById;">   
        <h5>{{userById?.fullName}}  <span class="text-muted" *ngIf="userById?.pOrNbr">({{userById?.pOrNbr}})</span></h5>
        <p></p>
        {{userById?.domainCode}} <span class="text-muted"></span>
        <p></p>
      {{userById?.assistorGroupCode}} <span class="text-muted"></span>
        <p></p>
        {{userById?.jobTitle}} <span class="text-muted"></span>
      </div>
    </div>
    <div class="app-popover-body" *ngIf="userById$ | async as userById;">    
      <h5 class="app-card-heading">Contact</h5>
      <p class="app-card-details">
        <span class="material-icons" aria-label="email" aria-hidden="true"
          >email</span
        >
        <a href="mailto:aj.com"> {{userById?.email}}</a>
      </p>
      <p class="app-card-details">
        <span class="material-icons" aria-label="phone" aria-hidden="true"
          >phone</span
        >
        {{userById?.phoneNbr}}
      </p>
      <p class="app-card-details">
        <span class="material-icons" aria-label="fax" aria-hidden="true"
          >print</span
        >
        {{userById?.faxNbr}}
      </p>
      <div class="app-card-details align-items-fstart">
        <span class="material-icons" aria-label="address" aria-hidden="true">location_pin</span >
        <div> 
          <p>  {{userById?.address1}} </p>

          <p> {{userById?.address2}} </p>
          <p> {{userById?.city}}  {{userById?.state}}  {{userById?.zip}} </p>
        </div> 

      </div>    
    <div class="app-card-bottom-buttons" *ngIf="sendEmail"> 
        <a href="mailto:userById?.emailAddress">      <button  kendoButton [primary]="true" look="flat" aria-label="RE-ASSIGN CASE"> Send Email    </button></a>
    </div>
    <div class="app-card-bottom-buttons" *ngIf="reassign"> 
      <button  kendoButton [primary]="true" look="flat" aria-label="RE-ASSIGN CASE" (click)="openBusinessPopup()">
        Re-assign
      </button>
    </div>
    </div>
  </div>


  <!-- <div class="text-center">
    <span class=" k-icon k-i-loading k-input-loading-icon"></span>
  </div> -->
<kendo-dialog *ngIf="businessLogicPopupOpen" (close)="businessLogicPopupClose()" class="app-c-modal app-c-modal-sm app-c-modal-np"
  title="Re-assign Case">

  <section class="k-dialog-body mb-2">
    <p>
      This feature is part of future scope of work for the ORCares project.
    </p>
  </section>
  <kendo-dialog-actions>
    <div class="justify-content-between">
      <div class="justify-content-end">
        <button kendoButton [primary]="true" look="flat" aria-label="Cancel" look="outline"
          (click)="businessLogicPopupClose()">
          Cancel
        </button> 
        <button  kendoButton [primary]="true" look="flat" aria-label="Re-assign" (click)="businessLogicPopupClose()">
          Re-assign
        </button>
      </div>
    </div>
  </kendo-dialog-actions>
