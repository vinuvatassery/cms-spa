<!-- Reminder list in view all reminder modal -->
<section class="reminder-list-modal">
  <div class="card-list-search align-items-end mb-3">
    <div class="input-search">
      <span class="material-icons" aria-label="search reminder" aria-hidden="true">search</span>
      <kendo-floatinglabel text="Search Reminders">
        <kendo-textbox aria-label="search reminder" [clearButton]="true"   [formControl]="searchTerm"  [fillMode]="formUiStyle.inputFillMode"> </kendo-textbox>
      </kendo-floatinglabel>
    </div>
    <button kendoButton [primary]="true" (click)="onNewReminderOpenClicked(reminderDetailsTemplate)"
      aria-label="New Reminder">
      <span class="material-icons" aria-label="new reminder" aria-hidden="true">add_alarm</span>
      New Reminder
    </button>
  </div>
  <section>
    <productivity-tools-reminder-item 
    (isLoadReminderAndNotificationEvent)="onloadReminderAndNotificationsGrid()"
    [notificationList$]="notificationList$"
    (onEditReminderClickedEvent)="onEditReminder($event)"
    (onDeleteAlertGridClicked)="onDeleteReminderAlert($event)"
    (reminderDetailsClickedEvent)="onNewReminderOpenClicked(reminderDetailsTemplate)"
    (deleteReminderOpenClickedEvent)="onDeleteReminderOpenClicked(deleteReminderTemplate)"
    (onSnoozeReminderEvent)="onSnoozeReminder($event)"
    ></productivity-tools-reminder-item>
  </section>
</section>
<!-- Reminder list case list sidebar -->
<section class="reminder-list-case">
  <p class="due-main-heading">
    <span class="material-icons" aria-label="reminder list" aria-hidden="true">playlist_add_check</span>DUE WITHIN 30 DAYS
  </p>
  <div class="due-items-wrapper">
    <ng-container *ngFor="let todoItem of todoItemList; let i=index">
      <div class="due-item-blocks " [ngClass]="todoItemCrossedDueDate(todoItem) ? 'red-item-block' : 'canyon-item-block'" (click)="onNavigationClicked(todoItem)">
        <p class="due-item-heading">{{todoItem?.entityName}} - {{todoItem?.alertName}}</p>
        <div class="due-item-details">
          <span>{{todoItem.isToday ? 'Today' : todoItem.isTomorrow ? 'Tomorrow' : (todoItem?.alertDueDate | date : 'MM/dd/YYYY')}}</span>
          <kendo-dropdownbutton  title="More option" [data]="reminderActions"
           (itemClick)="onToDoActionClicked($event,todoItem)"  (click)="$event.stopPropagation()" look="bare" aria-label="More option"
           class="small-i-btn app-dropdown-action more_action_wid" [popupSettings]="{
              popupClass: reminderActionPopupClass,
              animate: true
            }">
        <span *ngIf="todoItem.customAlertFlag == 'Y'" class="material-icons" aria-label="More option"> more_vert    </span>
            <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
              <button kendoButton look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType"
                aria-hidden="false" (click)="dataItem.click">
                <span class="material-icons" aria-hidden="true">{{dataItem.icon}}</span>
                <label> {{ dataItem.text }} </label>
              </button>
            </ng-template>
          </kendo-dropdownbutton>
        </div>
      </div>
    </ng-container>
<div *ngIf= "itemsLoader" >    <kendo-skeleton  *ngFor="let skeletonCount of skeletonCounts" shape="rectangle" animation="pulse"
  width="100%"
  height="100px" style="margin-bottom: 4px;"></kendo-skeleton></div>
  </div>
</section>



<!-- Create New Reminder Popup -->
<ng-template #reminderDetailsTemplate>
  <kendo-dialog-titlebar (close)="onNewReminderClosed(false)">{{reminderCrudText}} Reminder </kendo-dialog-titlebar>
  <productivity-tools-reminder-detail
  [isEdit]="isEdit" 
  [isDelete]="isDelete"
  [alertId] = "selectedAlertId"
  [isFromNotificationPanel]="true"
  (onGetTodoItem)="onGetTodoItemData($event)"
  [getTodo$]="getTodo$"
  [entityTypeCodeSubject$]="entityTypeCodeSubject$"
    (isModalNewReminderCloseClicked)="onNewReminderClosed($event)"
    [medicalProviderSearchLoaderVisibility$]="medicalProviderSearchLoaderVisibility$"
    [providerSearchResult$]="  providerSearchResult$"
    [clientSubject]="clientSubject"
    [clientSearchResult$]="clientSearchResult$"
    [searchProviderSubject]="searchProviderSubject"
    [clientSearchLoaderVisibility$]="clientSearchLoaderVisibility$"
    (searchClientName)="searchClientName($event)"
    (searchProvider)="searchProvider($event)"
    (remainderFor)="remainderFor($event)"
    (getReminderDetailsLov)="getReminderDetailsLov()"
    ></productivity-tools-reminder-detail>
</ng-template>

<ng-template #deleteReminderTemplate> 
  <productivity-tools-delete-reminder-confirmation
    (isModalDeleteReminderCloseClicked)="onDeleteReminderClosed($event)"></productivity-tools-delete-reminder-confirmation>
</ng-template>
<ng-template #deleteToDODialogTemplate>   
  <productivity-tools-delete-todo-confirmation  (isModalDeleteTodoCloseClicked)="onCloseDeleteToDoClicked($event)" (isModalDeleteTodoClicked)="onDeleteToDOClicked($event)"> </productivity-tools-delete-todo-confirmation> 
</ng-template>
