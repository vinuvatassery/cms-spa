<section class="k-dialog-body" [formGroup]="clientReminderForm">
  <p class="text-muted">All fields are required unless otherwise stated.</p>
  <section>
    <div class="flex-row">
      <div class="flex-col flex-col-6">
        <kendo-floatinglabel text="Due Date">
          <kendo-datepicker
            format="MM-dd-yyyy"
            [fillMode]="formUiStyle.dateInputFillMode"
            formControlName="dueDate"
            formatPlaceholder="formatPattern"
            (select)="dateValidate($event)" (keyup)="dateValidate($event)"
            placeholder=""
          >
          </kendo-datepicker>
        </kendo-floatinglabel>
        
        <kendo-formerror *ngIf="dateValidator">Due Date cannot be less than Current Date.</kendo-formerror>
        <kendo-formerror *ngIf="!clientReminderForm.controls['dueDate'].valid">Due Date is required.</kendo-formerror>
      </div>
      <div class="flex-col flex-col-6">
        <kendo-floatinglabel text="Time (Optional)">
          <kendo-timepicker
            format="hh:mm"
            [fillMode]="formUiStyle.dateInputFillMode"
            formControlName="time"
            formatPlaceholder="formatPattern"
          ></kendo-timepicker>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col">
        <kendo-floatinglabel text="Description">
          <kendo-textarea
            #tareaReminder
            [fillMode]="formUiStyle.inputFillMode"
            aria-label="custom remider description"
            resizable="auto"
            formControlName="description"
            [maxlength]="tareaRemindermaxLength"
            [value]="tareaReminderDescription"
            (valueChange)="onTareaReminderValueChange($event)"
          >
            <kendo-textarea-suffix class="justify-content-end">
              <span class="counter">{{ tareaReminderCounter }}</span>
            </kendo-textarea-suffix>
          </kendo-textarea>
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!clientReminderForm.controls['description'].valid">Description is required.</kendo-formerror>
      </div>
      
      <div class="flex-col mt-3" *ngIf="isShow">
        <div class="autoSelect-search mat-form-no-b-space">
          <div class="global-search">
            <span
              class="material-icons global-search-icon"
              aria-label="search"
              aria-hidden="true"
              >search</span
            >
            <kendo-multicolumncombobox
              [data]="search$ | async"
              textField="name"
              valueField="id"
              [fillMode]="formUiStyle.dropDownFillMode"
              placeholder="Link to Client or Service Provider (Optional)"
            >
              <kendo-combobox-column [width]="250">
                <ng-template
                  kendoMultiColumnComboBoxColumnCellTemplate
                  let-dataItem
                >
                  <span class="pr-1">{{ dataItem.name }}</span>
                  <span class="pr-1 text-muted">ID {{ dataItem.id }}</span>
                  <span class="text-muted">URN {{ dataItem.urn }}</span>
                </ng-template>
              </kendo-combobox-column>
            </kendo-multicolumncombobox>
          </div>
        </div>
      </div>
        <div class="flex-col mt-3" *ngIf="isShow"  >
          <div class="global-search mat-form-no-b-space">
            <span
              class="material-icons global-search-icon"
              aria-label="search case"
              aria-hidden="true"
              >search</span
            >
            <kendo-multicolumncombobox
              [data]="caseSearched$ | async"
              textField="name"
              valueField="id"
              placeholder="Search Case Name, Member ID or SSN"
              [fillMode]="formUiStyle.dropDownFillMode"
            >
              <kendo-combobox-column>
                <ng-template
                  kendoMultiColumnComboBoxColumnCellTemplate
                  let-dataItem
                >
                  <span class="pr-1">{{ dataItem.name }}</span>
                  <span class="pr-1 text-muted">ID {{ dataItem.id }}</span>
                  <span class="pr-1 text-muted">DOB {{ dataItem.dob }}</span>
                  <span class="text-muted">SSN {{ dataItem.ssn }}</span>
                </ng-template>
              </kendo-combobox-column>
            </kendo-multicolumncombobox>
          </div>
        </div>      
      </div>
      <div class="flex-col mb-1 mt-2">
        <span class="app-checkboxwidtext-wrapper">
          <input
            type="checkbox"
            id="addToOutlookCalender"
            kendoCheckBox
            aria-labelledby="addToOutlookCalender"
            formControlName="addToOutlookCalender"
          />
          <label class="k-checkbox-label" for="addToOutlookCalender"
            >Add to Outlook Calendar</label
          >
        </span>
      </div>    
  </section>
</section>
<kendo-dialog-actions>
  <section class="justify-content-end">
    <button kendoButton [primary]="true" look="outline" (click)="onCloseReminderClicked()" aria-label="cancel creating reminder">
      Cancel
    </button>
    <button kendoButton [primary]="true" (click)="save()" aria-label="create reminder">
      Create
    </button>
  </section>
</kendo-dialog-actions>
