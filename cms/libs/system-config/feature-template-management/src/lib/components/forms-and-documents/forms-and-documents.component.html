<span class="header-menu_notifications">
  <button appendTo="body" kendoButton icon="attachment" look="flat" (click)="onOpenAttachmentClicked()"
    class="header-buttons" aria-label="attachments" title="Forms and Attachments"></button>
</span>
<kendo-dialog kendoRippleContainer *ngIf="isOpenAttachment" (close)="onCloseAttachmentClicked()"
  class="app-c-modal app-c-modal-lg" appendTo="body">
  <kendo-dialog-titlebar>
    <span class="title-icons k-icon k-i-attachment mr-1" aria-label="forms and attachments" aria-hidden="true"></span>
    Forms and Attachments
  </kendo-dialog-titlebar>
 <!--  <kendo-treelist
  kendoTreeListExpandable
  [kendoTreeListHierarchyBinding]="foldersTree"
  childrenField="files" 
  [height]="400"
  (expand)="onExpand($event)"
>
  <kendo-treelist-column
    [expandable]="true"
    field="fileName"
   
    [width]="300"
  >
    <ng-template kendoTreeListCellTemplate let-dataItem>
      <span
        class="k-icon k-i-{{
          dataItem.isDirectory == true ? 'folder' : 'file'
        }}"
      ></span>
      {{ dataItem.fileName }}  ({{dataItem.fileSize}}MB)
    </ng-template>
  </kendo-treelist-column>
  <kendo-treelist-column field="lastModificationTime" [width]="100">
  </kendo-treelist-column>
 
</kendo-treelist> -->
<kendo-treeview
[nodes]="foldersTree"
textField="fileName"
kendoTreeViewExpandable
kendoTreeViewHierarchyBinding

[hasChildren]="hasChildren"
[children]="fetchChildren"
>
<ng-template kendoTreeViewNodeTemplate let-dataItem>
   
  <span class="attachments-buttons-wrap">
    <button kendoButton look="flat" aria-label="download attachment" *ngIf="dataItem.isDirectory==false"
      (click)="onDownloadViewTemplateClick('download',dataItem.filePath)">
      <span class="material-icons" aria-label="download" aria-hidden="true">file_download</span>
    </button>
    <button kendoButton look="flat" aria-label="open in new tab" *ngIf="dataItem.isDirectory==false"
      (click)="onDownloadViewTemplateClick('view',dataItem.filePath)">
      <span class="material-icons" aria-label="open in new tab" aria-hidden="true">open_in_new</span>
    </button>
    <span>{{dataItem.fileName}}</span>
    <span>({{dataItem.fileSize}})MB</span>
  </span>
  <span class="attachments-date" *ngIf="dataItem.isDirectory==false">Last Updated {{dataItem.lastModificationTime | date: 'MM/dd/YYYY'}}</span>

</ng-template>
</kendo-treeview>
</kendo-dialog>