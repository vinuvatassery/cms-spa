<common-bread-crumb></common-bread-crumb>
<case-management-case360-header
  [caseWorkerId]="caseWorkerId"
  [loadedClientHeader]="loadedClientHeader$ | async"
  [clientProfileImpInfo$]="clientProfileImpInfo$"
  [currentGroup$]="currentGroup$"
  [ddlGroups$]="ddlGroups$"
  [groupUpdated$]="groupUpdated$"
  (loadClientProfileInfoEvent)="loadClientProfileInfoEventHandler()"
  (loadClientImpInfoEvent)="loadClientImpInfo()"
  (loadChangeGroupEvent)="loadChangeGroupData($event)"
  (updateChangeGroupEvent)="updateChangeGroup($event)"
></case-management-case360-header>
<case-management-common-actions></case-management-common-actions>

<!-- Case 360 details section -->
<section class="client-tab-section">
  <!-- Case Details right Menus -->
  <case-management-case360-header-tools></case-management-case360-header-tools>

  <!-- Case Details Tab Sections -->
  <kendo-tabstrip #tabStripParent [scrollable]="{ scrollButtons: uiTabStripScroll.tabStripScroll }"
    class="app-c-tab case-360-tab">
    <kendo-tabstrip-tab title="Client" [selected]="true" *ifPermission='["Client_Profile_Client_Tab_View_Only"]'>
      <ng-template kendoTabContent>
        <kendo-tabstrip #tabStripChild [scrollable]="{ scrollButtons: uiTabStripScroll.tabStripScroll }"
          class="app-c-tab app-c-sub-tab">

          <kendo-tabstrip-tab title="Client Info" [selected]="true"
            *ifPermission='["Client_Profile_Client_ClientInfo_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-client-read-only-view [clientProfile]="loadedClient$ | async"
                  [clientId]="profileClientId" [clientCaseEligibilityId]="clientCaseEligibilityId"
                  [clientCaseId]="clientCaseId" (loadReadOnlyClientInfoEvent)="loadReadOnlyClientInfoEventHandler()"
                  (onUpdateApplicantInfo)="loadHeaderAndProfile()"></case-management-client-read-only-view>
                <case-management-special-handling></case-management-special-handling>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>

          <kendo-tabstrip-tab title="Contact Info" *ifPermission='["Client_Profile_Client_ContactInfo_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <case-management-profile-contact-page [profileClientId]="profileClientId"
                [clientCaseEligibilityId]="clientCaseEligibilityId"></case-management-profile-contact-page>
            </ng-template>


          </kendo-tabstrip-tab>

          <kendo-tabstrip-tab title="Family & Dependents"
            *ifPermission='["Client_Profile_Client_FamilyDependents_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <div class="flex-row">
                  <div class="flex-col flex-space-bw align-items-center mb-1">
                    <h2 class="title-md mb-0 text-bold">Family & Dependents</h2>
                    <div class="justify-content-end align-items-center mat-form-no-b-space fmly-epdorpdown">
                      <span class="text-bold" for="FamilyAndDependentEP">EP:&nbsp;</span>
                      <div class="fmly-epdorpdown">
                        <kendo-dropdownlist aria-label="FamilyAndDependentEP" [fillMode]="formUiStyle.dropDownFillMode"
                          #FamilyAndDependentEP [data]="ddlFamilyAndDependentEP$ | async">
                        </kendo-dropdownlist>
                      </div>
                    </div>
                  </div>
                  <div class="flex-col">
                    <case-management-family-and-dependent-list
                    [data]="screenName"
                    [pageSizes]="pageSizes"
                    [sortValue]="sortValue"
                    [sortType]="sortType"
                    [sort]="sort"
                    [dependents$]="dependentList$"
                    (loadDependentsEvent)="loadDependentsHandle($event)"
                    ></case-management-family-and-dependent-list>
                  </div>
                </div>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>

          <kendo-tabstrip-tab title="Income" *ifPermission='["Client_Profile_Client_Income_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <div class="flex-row">
                  <div class="flex-col flex-space-bw align-items-center mb-1">
                    <h2 class="title-md mb-0 text-bold">
                      Income
                      <span class="app-c-badge badge-warn-light ml-1"><span class="material-icons"
                          aria-label="income Information" aria-hidden="true">info</span>
                        Viewing data from previous EP</span>
                    </h2>
                    <div class="justify-content-end align-items-center mat-form-no-b-space fmly-epdorpdown">
                      <span class="text-bold" for="incomeEP">EP:&nbsp;</span>
                      <div class="fmly-epdorpdown">
                        <kendo-dropdownlist aria-label="incomeEP" #incomeEP [fillMode]="formUiStyle.dropDownFillMode"
                          [data]="ddlIncomeEP$ | async">
                        </kendo-dropdownlist>
                      </div>
                    </div>
                  </div>
                  <div class="flex-col">
                    <case-management-income-list [data]="screenName"></case-management-income-list>
                  </div>
                </div>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Employment" *ifPermission='["Client_Profile_Client_Employment_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <div class="flex-row">
                  <div class="flex-col flex-space-bw align-items-center mb-1">
                    <h2 class="title-md mb-0 text-bold">Employment</h2>
                    <div class="justify-content-end align-items-center mat-form-no-b-space fmly-epdorpdown">
                      <span class="text-bold" for="eemploymentep">EP:&nbsp;</span>
                      <div class="fmly-epdorpdown">
                        <kendo-dropdownlist #eemploymentep aria-label="Eemploymentep"
                          [fillMode]="formUiStyle.dropDownFillMode" [data]="ddlEmploymentEP$ | async">
                        </kendo-dropdownlist>
                      </div>
                    </div>
                  </div>
                  <div class="flex-col">
                    <case-management-employer-list [data]="screenName"></case-management-employer-list>
                  </div>
                </div>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
        </kendo-tabstrip>
      </ng-template>
    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab title="Health Insur." *ifPermission='["Client_Profile_Health_Ins_Tab_View_Only"]'>
      <ng-template kendoTabContent>
        <kendo-tabstrip [scrollable]="{ scrollButtons: uiTabStripScroll.tabStripScroll }"
          class="app-c-tab app-c-sub-tab">
          <kendo-tabstrip-tab title="Insurance Status" [selected]="true"
            *ifPermission='["Client_Profile_Health_Ins_Insurance_ Status_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-medical-insurance-status-list></case-management-medical-insurance-status-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Premium Payments"
            *ifPermission='["Client_Profile_Health_Ins_Premium_Payments__Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-medical-payment-list></case-management-medical-payment-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Co-Pays & Deductibles"
            *ifPermission='["Client_Profile_Health_Ins_CoPays_Deductibles_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-co-pays-and-deductibles-list></case-management-co-pays-and-deductibles-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
        </kendo-tabstrip>
      </ng-template>
    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab title="Dental Insur." *ifPermission='["Client_Profile_Dental_Tab_View_Only"]'>
      <ng-template kendoTabContent>
        <kendo-tabstrip [scrollable]="{ scrollButtons: uiTabStripScroll.tabStripScroll }"
          class="app-c-tab app-c-sub-tab">
          <kendo-tabstrip-tab title="Insurance Status" [selected]="true"
            *ifPermission='["Client_Profile_Dental_Insurance_Status_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-medical-insurance-status-list></case-management-medical-insurance-status-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Premium Payments"
            *ifPermission='["Client_Profile_Dental_Premium_Payments__Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-medical-payment-list></case-management-medical-payment-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Co-Pays & Deductibles"
            *ifPermission='["Client_Profile_Dental_CoPays_Deductibles_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-co-pays-and-deductibles-list></case-management-co-pays-and-deductibles-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
        </kendo-tabstrip>
      </ng-template>


    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab title="Drugs" *ifPermission='["Client_Profile_Drugs_Tab_View_Only"]'>

      <ng-template kendoTabContent>
        <kendo-tabstrip [scrollable]="{ scrollButtons: uiTabStripScroll.tabStripScroll }"
          class="app-c-tab app-c-sub-tab">
          <kendo-tabstrip-tab title="Pharmacies" [selected]="true"
            *ifPermission='["Client_Profile_Drugs_Pharmacies_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-pharmacies-list [clientId]="profileClientId" [clientpharmacies$]="clientpharmacies$"
                  [pharmacysearchResult$]="pharmacysearchResult$" [selectedPharmacy$]="selectedPharmacy$"
                  [addPharmacyResponse$]="addPharmacyRsp$" [editPharmacyResponse$]="editPharmacyRsp$"
                  [removePharmacyResponse$]="removePharmacyRsp$" [removeDrugPharmacyResponse$]="removeDrugPharmacyRsp$"
                  [triggerPriorityPopup$]="triggerPriorityPopup$" [searchLoaderVisibility$]="searchLoaderVisibility$"
                  (removePharmacyClick)="removeDrugPharmacyRsp($event)" (searchPharmacy)="searchPharmacy($event)"
                  (addPharmacyClick)="addPharmacy($event)"></case-management-pharmacies-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Drugs Purchased" *ifPermission='["Client_Profile_Drugs_Purchased_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <case-management-drugs-purchased-list
                  [clientId]="profileClientId"></case-management-drugs-purchased-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>

        </kendo-tabstrip>
      </ng-template>

    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab title="Management" *ifPermission='["Client_Profile_Management_Tab_View_Only"]'>

      <ng-template kendoTabContent>

        <kendo-tabstrip [scrollable]="{ scrollButtons: uiTabStripScroll.tabStripScroll }"
          class="app-c-tab app-c-sub-tab">
          <kendo-tabstrip-tab title="Case Managers" [selected]="true"
            *ifPermission='["Client_Profile_Management_Manager_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section  mt-1">
                <div class="flex-col flex-space-bw align-items-center mb-1">
                  <h2 class="title-md mb-0 text-bold">Case Manager</h2>
                  <div>

                  </div>

                </div>
                <case-management-case-manager-list></case-management-case-manager-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Healthcare Providers"
            *ifPermission='["Client_Profile_Management_Provider_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section mt-1">
                <div class="flex-col flex-space-bw align-items-center mb-1">
                  <h2 class="title-md mb-0 text-bold">HIV Healthcare Providers</h2>
                  <div>

                  </div>

                </div>
                <case-management-health-care-provider-list></case-management-health-care-provider-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="CD4 Count" *ifPermission='["Client_Profile_Management_CD4_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section  mt-1">
                <div class="flex-col flex-space-bw align-items-center mb-1">
                  <h2 class="title-md mb-0 text-bold">CD4 Count</h2>
                  <div>

                  </div>

                </div>
                <case-management-cd4-count-list> </case-management-cd4-count-list>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
          <kendo-tabstrip-tab title="Viral Load"
            *ifPermission='["Client_Profile_Management_VirtualLoad_Tab_View_Only"]'>
            <ng-template kendoTabContent>
              <div class="block-section  mt-1">
                <div class="flex-col flex-space-bw align-items-center mb-1">
                  <h2 class="title-md mb-0 text-bold">Viral Load</h2>
                  <div>

                  </div>

                </div>
                <case-management-viral-load> </case-management-viral-load>
              </div>
            </ng-template>
          </kendo-tabstrip-tab>
        </kendo-tabstrip>
      </ng-template>



    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab title="Statuses" *ifPermission='["Client_Profile_Statuses_Tab_View_Only"]'>

      <ng-template kendoTabContent>
        <div class="block-section mt-1">
          <div class="flex-col flex-space-bw align-items-center mb-1">
            <h2 class="title-md mb-0 text-bold">Status Periods</h2>
            <div>

            </div>

          </div>
          <case-management-status-period> </case-management-status-period>
        </div>
      </ng-template>

    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab title="Attachments" *ifPermission='["Client_Profile_Attachments_Tab_View_Only"]'>

      <ng-template kendoTabContent>
        <div class="block-section mt-1">
          <div class="flex-col flex-space-bw align-items-center mb-1">
            <h2 class="title-md mb-0 text-bold">Attachments</h2>
            <div>

            </div>

          </div>
          <case-management-document-list></case-management-document-list>
        </div>
      </ng-template>

    </kendo-tabstrip-tab>

    <kendo-tabstrip-tab title="App History" *ifPermission='["Client_Profile_AppHistory_Tab_View_Only"]'>

      <ng-template kendoTabContent>
        <div class="block-section mt-1">
          <div class="flex-col flex-space-bw align-items-center mb-1">
            <h2 class="title-md mb-0 text-bold">Application History</h2>
            <div>

            </div>

          </div>
          <case-management-app-history-list></case-management-app-history-list>
        </div>
      </ng-template>

    </kendo-tabstrip-tab>

  </kendo-tabstrip>
</section>

<!-- Review HIV Verification Html-->
<kendo-dialog *ngIf="isVerificationReviewPopupOpened" (close)="onVerificationReviewClosed()"
  class="app-c-modal app-c-modal-sm app-c-modal-np" title="Review HIV Verification" kendoTooltip>
  <case-management-hiv-verification-review></case-management-hiv-verification-review>
</kendo-dialog>
