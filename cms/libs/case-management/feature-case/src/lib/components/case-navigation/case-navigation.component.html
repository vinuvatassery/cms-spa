<!-- Case Section List -->
<ul
  class="kendo-list-base"
  *ngIf="
    !isApplicationReviewOpened && (isSendLetterProfileOpened$ | async) === false
  "
>
  <div class="sections-heading">
    <h5 class="text-capital">Section</h5>
    <h5 class="text-capital">Completed Items</h5>
  </div>
  <div *ngFor="let route of routes$ | async">
    <!-- <div *ngFor="let status of completeStaus$ | async"> -->
      <li
        routerLinkActive="active-item"
        [ngClass]="
        route.workFlowProgress[0].datapointsCompletedCount === route.workFlowProgress[0].datapointsTotalCount
            ? 'kendo-list-items section-completed'
            : 'kendo-list-items'
        "
        [routerLink]="route.url"
        [queryParamsHandling]="'preserve'"
        (click)="onRouteChange(route)"
      >
      <span>{{ route.title }}</span>
      <page-completion-status
      [workflowStepId] = "route.workflowStepId"
      ></page-completion-status>
        <!-- 
        <span *ngIf="route.workFlowProgress[0].datapointsCompletedCount !== route.workFlowProgress[0]?.datapointsTotalCount"
          >{{ route.workFlowProgress[0]?.datapointsCompletedCount }} of {{ route.workFlowProgress[0]?.datapointsTotalCount }}</span
        >
        <span
          *ngIf="
            route.workFlowProgress[0].datapointsCompletedCount === route.workFlowProgress[0].datapointsTotalCount
          "
          class="material-icons"
          >check_circle</span
        > -->
      </li>
    <!-- </div> -->
  </div>
  <div class="sections-heading sh-top-border">
    <span>Application Review</span>
    <button
      aria-label="start review"
      kendoButton
      [primary]="true"
      (click)="onApplicationReviewClicked()"
      [queryParamsHandling]="'preserve'"
      routerLink="/case-management/case-detail/application-eligibility/eligibility"
    >
      Start
    </button>
  </div>
</ul>

<!-- Case Section List for application review -->
<ul
  class="kendo-list-base"
  *ngIf="
    isApplicationReviewOpened && (isSendLetterProfileOpened$ | async) === false
  "
>
  <div
    class="sections-heading heading-as-menu"
    routerLink="/case-detail/client"
    [queryParamsHandling]="'preserve'"
    (click)="onApplicationReviewClosed()"
  >
    <span class="material-icons">arrow_back</span>
    <h5 class="pl-1 text-normal">Back to application</h5>
  </div>
  <li class="kendo-list-items">
    <span>Application Review</span> <span>1 of 4</span>
  </li>
</ul>

<ul class="kendo-list-base" *ngIf="isSendLetterProfileOpened$ | async">
  <case-management-send-letter-profile></case-management-send-letter-profile>
</ul>
