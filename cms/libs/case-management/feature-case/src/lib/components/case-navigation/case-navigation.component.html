<!-- Case Section List -->
<ul
  class="kendo-list-base"
  *ngIf="
    !isApplicationReviewOpened && (isSendLetterProfileOpened$ | async) === false
  "
>
  <div class="sections-heading">
    <h5 class="text-capital">Section</h5>
    <h5 class="text-capital">Completed Items</h5>
  </div>
  <div *ngFor="let route of routes$ | async as routes; let i = index"> 
      <li
      *ngIf="i != routes?.length-1"
      [ngClass]="{ 'kendo-list-items':true,
      'section-completed':route.completedDatapointsCount === route.requiredDatapointsCount && route.requiredDatapointsCount !== 0,
      'active-item': route.currentFlag ==='Y'
      }"            
      (click)="onRouteChange(route)"
      >
      <span>{{ route.title }}</span>
      <page-completion-status
      [workflowProcessId] = "route.processId"
      [completionStatus$]="completeStaus$"
      ></page-completion-status>
      </li>
  </div>
  <div class="sections-heading sh-top-border" *ngIf="review"> 
    <span>{{ review.title }}</span>
    <button
      aria-label="start review"
      kendoButton
      [disabled]="isNotReadyForReview"
      [primary]="true"
      (click)="onApplicationReviewClicked()"   
    >
      Start
    </button>
  </div>
</ul>

<!-- Case Section List for application review -->
<ul
  class="kendo-list-base"
  *ngIf="
    isApplicationReviewOpened && (isSendLetterProfileOpened$ | async) === false && review
  "
>
  <div
    class="sections-heading heading-as-menu"
    (click)="onApplicationReviewClosed()"
  >
    <span class="material-icons">arrow_back</span>
    <h5 class="pl-1 text-normal">Back to application</h5>
  </div>
  <li class="kendo-list-items">
    <span>{{ review.title }}</span> 
    <span>
      <page-completion-status
      [workflowProcessId] = "review.processId"
      [completionStatus$]="completeStaus$"
      ></page-completion-status>
    </span>
  </li>
</ul>

<ul class="kendo-list-base" *ngIf="isSendLetterProfileOpened$ | async">
  <case-management-send-letter-profile></case-management-send-letter-profile>
</ul>
