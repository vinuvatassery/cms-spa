<div class="app-l-inner-rapper pt-0 pb-0" kendoRippleContainer kendoTooltip>
  <div class="assigned-to-right">
    Assigned To
    <button
      kendoButton
      [primary]="true"
      class="avatar-sm-btn ml-1 c-default"
      kendoPopoverAnchor
      [popover]="userCard"
      showOn="hover"
      aria-label="assigned to"
    >
      <div mat-card-avatar class="app-c-avatar avatar-sm">
        <span class="profile-text-avatar">AK</span>
      </div>
    </button>
  </div>
  <kendo-popover #userCard width="330" position="left">
    <ng-template kendoPopoverBodyTemplate>
      <common-user-profile-card></common-user-profile-card>
    </ng-template>
  </kendo-popover>

  <!-- Main Title Section -->
  <section class="app-l-mainTittle" *ngIf="loadedClientHeader?.clientFullName">
    <h2 class="title-md">
      {{loadedClientHeader?.clientFullName}}
      <span class="normal-text text-muted pl-1">({{loadedClientHeader?.clientOfficialIdFullName}})</span>
      <span
        class="title-star-icon icon-filled"
        kendoPopoverAnchor
        [popover]="userDetails"
        showOn="hover"
        aria-label="user details"
        aria-hidden="true"
      >
        <span
          class="material-icons"
          aria-label="user information star"
          aria-hidden="true"
          >star</span
        >
      </span>
      <span class="client-pronouns text-muted">{{loadedClientHeader?.pronouns}}</span>
    </h2>
    <div class="title-client-info-block">
      <span class="title-client-info">ID {{loadedClientHeader?.clientId}}</span>
      <span class="title-client-info">CASE ID {{loadedClientHeader?.clientCaseIdentity}}</span>
      <span class="title-client-info">URN {{loadedClientHeader?.urn}}</span>
      <span
        class="title-client-info c-pointer on-hover-t-primary"
        title="Start New Status Period"
        (click)="onStatusPeriodDetailClicked()"
        >{{loadedClientHeader?.caseStatus}}</span
      >
      <span
        class="title-client-info c-pointer on-hover-t-primary"
        title="Change Group"
        (click)="onGroupDetailClicked()"
        >GROUP {{loadedClientHeader?.group}}</span
      >
      <span
        class="title-client-info c-pointer on-hover-t-primary"
        title="Edit Status Period Dates"
        (click)="onStatusPeriodDetailClicked()"
        >{{loadedClientHeader?.eilgibilityStartDate}} - {{loadedClientHeader?.eilgibilityEndDate}}</span
      >
      <span class="title-client-info">FPL {{loadedClientHeader?.fpl}}%</span>
    </div>
  </section>

  <!-- User Details Popover -->
  <kendo-popover #userDetails width="330">
    <ng-template kendoPopoverBodyTemplate>
      <section class="user-details-block">
        <div class="flex-row">
          <div class="flex-col">
            <h5>Case Worker Notes</h5>
            <ul aria-label="case worker notes menu" class="user-bullet-list">
              <li aria-label="case worker notes menu item">Abusive language</li>
              <li aria-label="case worker notes menu item">
                Immediately transfer to Lorem Ipsum
              </li>
            </ul>
          </div>
          <div class="flex-col">
            <h5>Preferred Contact</h5>
            <ul aria-label="preferred contact menu" class="user-bullet-list">
              <li aria-label="preferred contact menu item">
                (123) 456-7890 (Cell)
              </li>
              <li aria-label="preferred contact menu item">
                Messages OK, SMS Text OK
              </li>
            </ul>
          </div>
          <div class="flex-col">
            <h5>Case Manager</h5>
            <ul aria-label="case manager menu">
              <li aria-label="case manager menu item">Mr. Roger Federal</li>
              <li aria-label="case manager menu item">(123) 456-7890</li>
              <li aria-label="case manager menu item">samolemail@email.com</li>
            </ul>
          </div>
          <div class="flex-col">
            <h5>Special Handling</h5>
            <ul aria-label="special handling menu" class="user-bullet-list">
              <li aria-label="special handling menu item">
                Lorem Ipsum has been the industry's standard dummy
              </li>
              <li aria-label="special handling menu item">
                The industry's standard dummy
              </li>
            </ul>
          </div>
        </div>
      </section>
    </ng-template>
  </kendo-popover>

  <!-- Banners -->
  <section>
    <div class="info-banners canyon-banner" hidden>
      <span class="material-icons" aria-label="to do item" aria-hidden="true"
        >notifications</span
      >
      <span>To Do Item</span>
    </div>
    <div class="info-banners red-banner hover-link">
      <span class="material-icons" aria-label="to do" aria-hidden="true"
        >playlist_add_check</span
      >
      <span class="text-bold">Renew Eligibility </span>
      <span class="text-normal">(Due today)</span>
    </div>
  </section>
</div>

<!-- Status Period Detail Modal -->
<kendo-dialog
  *ngIf="isStatusPeriodDetailOpened"
  (close)="onStatusPeriodDetailClosed()"
  class="app-c-modal app-c-modal-sm app-c-modal-np"
  kendoTooltip
>
  <kendo-dialog-titlebar> Start New Status Period </kendo-dialog-titlebar>
  <case-management-eligibility-period-detail></case-management-eligibility-period-detail>
</kendo-dialog>

<!-- Eligibility Group Detail Modal -->
<kendo-dialog
  *ngIf="isGroupDetailOpened"
  (close)="onGroupDetailClosed()"
  class="app-c-modal app-c-modal-sm app-c-modal-np"
  kendoTooltip
>
  <kendo-dialog-titlebar> Change Group </kendo-dialog-titlebar>
  <case-management-group-detail></case-management-group-detail>
</kendo-dialog>
