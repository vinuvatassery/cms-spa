<div class="flex-row">
  <div class="flex-col">
    <div class="app-c-table">
      <kendo-grid [data]="clientpharmacies$ | async">
        <kendo-grid-column
          field="PharmacyNameAndNumber"
          title="Pharmacy Name and Number"
          [width]="220"
        >
        </kendo-grid-column>
        <kendo-grid-column
          field="City"
          title="City"
          [width]="100"
        ></kendo-grid-column>
        <kendo-grid-column
          field="State"
          title="State"
          [width]="100"
        ></kendo-grid-column>
        <kendo-grid-column
          field="Priority"
          title="Priority"
          [width]="100"
        ></kendo-grid-column>
        <kendo-grid-column
          field="Phone"
          title="Phone"
          [width]="150"
        ></kendo-grid-column>
        <kendo-grid-column
          field="ContactName"
          title="Contact Name"
          [width]="120"
        ></kendo-grid-column>
        <kendo-grid-column
          field="Option"
          title="Option"
          [width]="75"
          class="text-center"
          [sticky]="true"
        >
          <ng-template kendoGridCellTemplate let-dataItem>
            <kendo-dropdownbutton
              [data]="actions"
              icon="more-vertical"
              class="TableActionPopup app-dropdown-action"
              buttonClass="k-icon-button"
              aria-label="more actions"
              [popupSettings]="{ popupClass: popupClassAction, animate: true }"
            >
              
            <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
              <button kendoButton  look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType" aria-hidden="false" (click)="dataItem.click">
                <span class="material-icons" [attr.aria-label]="dataItem.text" >{{dataItem.icon}}</span>
                <label>   {{ dataItem.text }} </label>
            </button>
            
<!--           <button
                  kendoButton
                  icon="edit"
                  look="flat"
                  class="btn-h-primary"
                  (click)="onEditPharmacyClicked(dataItem)"
                  aria-label="edit pharmacy"
                >
                  Edit Pharmacy
                </button>
                <button
                  kendoButton
                  look="flat"
                  class="btn-h-primary"
                  (click)="onOpenChangePriorityClicked()"
                  aria-label="change priority"
                >
                  <span
                    class="material-icons"
                    aria-label="format line spacing"
                    aria-hidden="true"
                    >format_line_spacing</span
                  >Change Priority
                </button>
                <button
                  kendoButton
                  icon="delete"
                  look="flat"
                  class="btn-h-danger"
                  aria-label="remove pharmacy"
                >
                  Remove Pharmacy
                </button> -->
              </ng-template>
            </kendo-dropdownbutton>
          </ng-template>
        </kendo-grid-column>
      </kendo-grid>
    </div>
    <div class="flex-row">
      <div class="flex-col mt-1">
        <button
          kendoButton
          [primary]="true"
          icon="add"
          (click)="onOpenPharmacyClicked()"
          aria-label="add pharmacy"
        >
          Pharmacy
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Add Pharmacy  Modal -->
<kendo-dialog
  *ngIf="isOpenPharmacyClicked"
  (close)="handleClosePharmacyClicked()"
  class="app-c-modal app-c-modal-sm app-c-modal-np"
>
  <kendo-dialog-titlebar>
    {{ isEditPharmacyListClicked ? 'Edit Pharmacy' : 'Add Pharmacy' }}
  </kendo-dialog-titlebar>
  <case-management-pharmacy-detail
    [isEditPharmacy]="isEditPharmacyListClicked"
    [selectedPharmacy]="selectedPharmacy"
    (closePharmacyEvent)="handleClosePharmacyClicked()"
  ></case-management-pharmacy-detail>
</kendo-dialog>

<!-- Change Pharmacy Priority Modal -->
<kendo-dialog
  *ngIf="isOpenChangePriorityClicked"
  (close)="handleCloseChangePriorityClikced()"
  class="app-c-modal app-c-modal-sm app-c-modal-np"
>
  <kendo-dialog-titlebar> Change Pharmacy Priority </kendo-dialog-titlebar>
  <case-management-set-pharmacy-priority
    (closeChangePriority)="handleCloseChangePriorityClikced()"
  ></case-management-set-pharmacy-priority>
</kendo-dialog>
