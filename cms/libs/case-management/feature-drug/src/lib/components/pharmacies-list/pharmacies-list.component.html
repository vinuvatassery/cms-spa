<div class="flex-row">
  <div class="flex-col flex-space-bw align-items-center"> 
    <h2 class="title-md mb-0 text-bold">Premium Payments</h2>
    <span>
      <input type="checkbox" kendoCheckBox aria-labelledby="premiumsWithinLast12Months" id="premiums" />
      <label class="k-checkbox-label" for="premiums">Show historical</label>
    </span>
  </div>
  <div class="flex-col mt-1">
    <div class="app-c-table">
      <kendo-grid  [pageSize]="5" [pageable]="true"  [data]="pharmaciesList$ | async">
        <kendo-grid-column field="PharmacyName" title="Pharmacy Name" [width]="180">
        </kendo-grid-column>
        <kendo-grid-column field="TIN" title="TIN" [width]="80"></kendo-grid-column>
        <kendo-grid-column field="Phone" title="Phone" [width]="130"></kendo-grid-column>
        <kendo-grid-column field="Fax" title="Fax" [width]="130"></kendo-grid-column>
        <kendo-grid-column field="MailCodes" title="Mail Codes" [width]="100"></kendo-grid-column>
        <kendo-grid-column field="Address" title="Address" [width]="200"></kendo-grid-column>
        <kendo-grid-column field="NABP" title="NABP" [width]="100"></kendo-grid-column>
        <kendo-grid-column field="NCPDP" title="NCPDP" [width]="100"></kendo-grid-column>
        <kendo-grid-column field="EffectiveDate" title="Effective Date" [width]="120"></kendo-grid-column>
        <kendo-grid-column field="by" title="By" [width]="50" [sticky]="true">
          <ng-template kendoGridCellTemplate let-dataItem>
            <button kendoButton [primary]="true" class="avatar-sm-btn c-default" kendoPopoverAnchor
              [popover]="onUserProfileDetailsHovered" showOn="hover" aria-labelledby="profile avathar">
              <div mat-card-avatar="" class="app-c-avatar avatar-sm">
                <!-- <img
          src="../assets/images/avatar-1.png"
          alt="Profile Avatar"
          class="profile-avatar"
          hidden
        /> -->
                <span class="profile-text-avatar">AK</span>
              </div>
            </button>
            <kendo-popover #onUserProfileDetailsHovered width="330" position="left">
              <ng-template kendoPopoverBodyTemplate>
                <common-user-profile-card></common-user-profile-card>
              </ng-template>
            </kendo-popover>
          </ng-template>
        </kendo-grid-column>
        


        <!-- Pagination Template -->
        <ng-template kendoPagerTemplate let-totalPages="totalPages" let-pagerFirstPage="pagerFirstPage"
        let-currentPage="currentPage">
        <div class="grid-custom-paginationtemplates d-flex"> 
          <div class="d-flex align-items-center"> 
            <label class="mr-1">Rows Per Page</label> 
            <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" [data]="pageSizes" [textField]="'text'"
            [valueField]="'value'" [valuePrimitive]="true" [(value)]="state.take"></kendo-dropdownlist>
            <kendo-pager-info> </kendo-pager-info>
            <kendo-grid-messages [pagerItems]="' '" [pagerPage]="'Page'"> </kendo-grid-messages>
  
          </div>
          <div class="d-flex"> 
            <kendo-pager-input></kendo-pager-input> 
            <kendo-pager-prev-buttons></kendo-pager-prev-buttons> 
            <kendo-pager-next-buttons></kendo-pager-next-buttons>
          </div> 
        </div>
      </ng-template>
        <!-- grid Loader Template -->  
       <ng-template kendoGridLoadingTemplate>
         <common-grid-loader-component></common-grid-loader-component>
        </ng-template>
        <!-- grid No data Template -->  
        <ng-template kendoGridNoRecordsTemplate>
          <div> <kendo-badge-container>   <span class="material-icons">    info   </span>    </kendo-badge-container>
          </div>
          <p>There is no data to display.</p>
        </ng-template>
      </kendo-grid>
    </div>
    <div class="flex-row">
      <div class="flex-col mt-1">
        <button kendoButton [primary]="true" icon="add" (click)="onOpenPharmacyClicked()" aria-label="add pharmacy">
          Pharmacy
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Add Pharmacy  Modal -->
<kendo-dialog *ngIf="isOpenPharmacyClicked" (close)="handleClosePharmacyClicked()"
  class="app-c-modal app-c-modal-sm app-c-modal-np">
  <kendo-dialog-titlebar>
    {{ isEditPharmacyListClicked ? 'Edit Pharmacy' : 'Add Pharmacy' }}
  </kendo-dialog-titlebar>
  <case-management-pharmacy-detail [isEditPharmacy]="isEditPharmacyListClicked" [selectedPharmacy]="selectedPharmacy"
    (closePharmacyEvent)="handleClosePharmacyClicked()"></case-management-pharmacy-detail>
</kendo-dialog>

<!-- Change Pharmacy Priority Modal -->
<kendo-dialog *ngIf="isOpenChangePriorityClicked" (close)="handleCloseChangePriorityClikced()"
  class="app-c-modal app-c-modal-sm app-c-modal-np">
  <kendo-dialog-titlebar> Change Pharmacy Priority </kendo-dialog-titlebar>
  <case-management-set-pharmacy-priority (closeChangePriority)="handleCloseChangePriorityClikced()">
  </case-management-set-pharmacy-priority>
</kendo-dialog>