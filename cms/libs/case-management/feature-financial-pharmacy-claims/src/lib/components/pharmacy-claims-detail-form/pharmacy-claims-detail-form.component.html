<kendo-dialog-titlebar (close)="closeAddEditClaimsFormModalClicked()">
    <section class="app-l-mainTittle">
        <h1 class="maintitle_withicon text-bold">Add New Claims </h1>
    </section>
</kendo-dialog-titlebar>
<section class="add_main_popup_screen">


    <div class="add_new_top_section">
        <p class="mb-3"> Select a Pharmacy Provider to bulk add services for this claim.</p>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class="combotable_search_list new_refund_Search new_claims_Search mb-3">
                    <span class="material-icons global-search-icon" aria-label="search" aria-hidden="true">search</span>
                    <span *ngIf="isShownSearchLoader"
                        class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"></span>
                  
                        <kendo-multicolumncombobox [data]="providerSearchResult" textField="providerFullName"
                        valueField="providerId" [fillMode]="formUiStyle.dropDownFillMode"
                        placeholder="Search Pharmacy Providers by name or TIN"
                        [popupSettings]="{popupClass: 'combotable_search_list', animate: true }" [filterable]="true"
                       >
                        <button kendoButton fillMode="clear" icon="image"></button>

                        <kendo-combobox-column>
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span>{{ dataItem.providerFullName }}</span>
                            </ng-template>
                        </kendo-combobox-column>

                        <kendo-combobox-column>
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class="text-muted"><em> TIN:</em> {{ dataItem.tin }}</span>
                            </ng-template>
                        </kendo-combobox-column>

                    </kendo-multicolumncombobox>
                </div>
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class="combotable_search_list new_refund_Search new_claims_Search">
                    <span class="material-icons global-search-icon" aria-label="search" aria-hidden="true">search</span>
                    <span *ngIf="isShownSearchLoader"
                        class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"></span>
                    <kendo-multicolumncombobox [data]="clientSearchResult" textField="clientFullName"
                        valueField="clientId" [fillMode]="formUiStyle.dropDownFillMode"
                        placeholder="Search Client Name, ID, or SSN"
                        [popupSettings]="{popupClass: 'combotable_search_list', animate: true }" [filterable]="true"
                        >
                        <button kendoButton fillMode="clear" icon="image"></button>

                        <kendo-combobox-column>
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span>{{ dataItem.clientFullName }}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="100">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class=" text-muted"> <em>ID:</em> {{dataItem.clientId}}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="150">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class="text-muted"><em> SSN:</em> {{ dataItem.ssn }}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="125">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class=" text-muted"> <em>DOB:</em> {{ dataItem.dob}}</span>
                            </ng-template>
                        </kendo-combobox-column>
                    </kendo-multicolumncombobox>
                </div>
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <kendo-floatinglabel text="Invoice ID">
                    <kendo-textbox aria-label="Invoice ID" [fillMode]="formUiStyle.inputFillMode">
                    </kendo-textbox>
                </kendo-floatinglabel>
            </div>
        </div>

    </div>


    <div class="add_new_bottom_section">


        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class=" mb-3">
                    <div class="flex-space-bw align-items-center">
                        <h4 class="mar-0">SERVICE 1</h4>
                        <button class="" kendoButton fillMode="flat" themeColor="error">DELETE</button>
                    </div>
                    <div class="flex-row">
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="Service Start Date">
                                <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode"
                                    aria-label="Service Start Date" format="MM/dd/yyyy"
                                    formatPlaceholder="formatPattern">
                                </kendo-datepicker>
                            </kendo-floatinglabel>
                        </div>
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="Service End Date">
                                <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode"
                                    aria-label="Service End Date" format="MM/dd/yyyy" formatPlaceholder="formatPattern">
                                </kendo-datepicker>
                            </kendo-floatinglabel>
                        </div>
                        <div class="ml-2">
                        <kendo-formerror class="d-flex align-items-center"> <span class="material-icons mr-1"  aria-hidden="false" >info</span>  Invoice is over 1 year old. <a kendoButton class="ml-1 card-link-button">Make Exception</a></kendo-formerror>

                        </div>

                    </div>
                    <div class="flex-row">
                        <div class="flex-col flex-col-4">
                            <kendo-floatinglabel text="Payment Type">
                                <kendo-dropdownlist aria-label="Payment Type" 
                                    [fillMode]="formUiStyle.dropDownFillMode">
                                </kendo-dropdownlist>
                            </kendo-floatinglabel>
                        </div>
                        <div class="flex-col flex-col-4">
                            <kendo-floatinglabel text="CTP Code">
                                <kendo-textbox aria-label="CTP Code" 
                                    [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>
                        <div class="flex-col flex-col-4">
                            <kendo-floatinglabel text="PCA Code">
                                <kendo-textbox aria-label="PCA Code" 
                                    [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>
                    </div>
                    <div class="flex-row">
                        <div class="flex-col">
                            <kendo-floatinglabel text="Service Description">
                                <kendo-textarea [fillMode]="formUiStyle.inputFillMode" 
                                    resizable="auto" aria-label="Service Description">
                                    <kendo-textarea-suffix class="justify-content-end">
                                        <span class="tareacounter"> 10/300</span>
                                    </kendo-textarea-suffix>
                                </kendo-textarea>
                            </kendo-floatinglabel>
                        </div>
                    </div>
                    <div class="flex-row">
                        <div class="flex-col flex-col-6">
                          
                            <kendo-floatinglabel text="Service Cost" class="amount-with-symbol">
                                <span class="k-input-prefix custom-currencysymbol"> $ </span>  
                                <kendo-textbox aria-label="CTP Code"  
                                    [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                           

                        </div>
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="Amount Due" class="amount-with-symbol">
                                <span class="k-input-prefix custom-currencysymbol"> $ </span>
                                <kendo-textbox aria-label="PCA Code" 
                                    [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>
                        <div class="ml-2">
                        <kendo-formerror class="align-items-center"> <span class="material-icons mr-1"  aria-hidden="false" >info</span>  Client exceeded maximum benefits. <a kendoButton class="ml-1 card-link-button">Make Exception</a></kendo-formerror>
                  </div>
                    </div>
                    <div class="flex-row"> 
                        <div class="flex-col  ">
                            <kendo-floatinglabel text="Reason For Exception">
                                <kendo-textarea [fillMode]="formUiStyle.inputFillMode" 
                                    resizable="auto" aria-label="Reason For Exception">
                                    <kendo-textarea-suffix class="justify-content-end">
                                        <span class="tareacounter"> 10/300</span>
                                    </kendo-textarea-suffix>
                                </kendo-textarea>
                            </kendo-floatinglabel>
                           

                        </div>
                    </div>
                    <hr class="row-border"/>
                    <div class="mt-2">
                    <button class="" kendoButton fillMode="flat" themeColor="primary">  <span class="material-icons" aria-label="New Claims" aria-hidden="false">add</span> New Service</button>

                    </div>
                </div>
            </div>
        </div>

    </div> 


</section>
<div class="add_new_fixed_bottom">
    <div>
        <h5>Recent Claims for this client and Provider</h5>
        <div class="add_new_fixed_bottom_grid_section">
            <cms-pharmacy-claims-recent-claims-list></cms-pharmacy-claims-recent-claims-list>
        </div>
        <div class="d-flex align-items-center mt-1">
            <button kendoButton [primary]="true" aria-label="Confirm Selections" class=""> Add </button>
            <button kendoButton [primary]="true" look="outline" class="ml-2" aria-label="Cancel"> Cancel </button>
            <span class="ml-2">1 service(s) to be added</span>
        </div>
    </div>

</div>