<kendo-dialog-titlebar (close)="closeAddEditRefundFormModalClicked()">
    <section class="app-l-mainTittle">
        <h1 class="maintitle_withicon text-bold">Add New Refund </h1>
    </section>
</kendo-dialog-titlebar>
<section class="add_main_popup_screen">


    <div class="add_new_top_section">
        <p class="mb-3"> Search for a client to add insurance, provider, prescription, or tax refunds.</p>

        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class="combotable_search_list new_refund_Search">
                    <span class="material-icons global-search-icon" aria-label="search" aria-hidden="true">search</span>
                    <span   *ngIf="isShownSearchLoader" class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"></span>
                    <kendo-multicolumncombobox [data]="clientSearchResult" textField="clientFullName"
                        valueField="clientId" [fillMode]="formUiStyle.dropDownFillMode"
                        placeholder="Search Client Name, ID, or SSN"
                        [popupSettings]="{popupClass: 'combotable_search_list', animate: true }" [filterable]="true"
                        formControlName="itemSelected">
                        <button kendoButton fillMode="clear" icon="image"></button>

                        <kendo-combobox-column>
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span>{{ dataItem.clientFullName }}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="100">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class=" text-muted"> <em>ID:</em> {{dataItem.clientId}}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="150">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class="text-muted"><em> SSN:</em> {{ dataItem.ssn }}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="125">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class=" text-muted"> <em>DOB:</em> {{ dataItem.dob}}</span>
                            </ng-template>
                        </kendo-combobox-column>
                    </kendo-multicolumncombobox>
                </div>
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <kendo-floatinglabel text="Refund Type">
                    <kendo-dropdownlist aria-label="Refund Type" [fillMode]="formUiStyle.dropDownFillMode">
                    </kendo-dropdownlist>
                </kendo-floatinglabel>
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <kendo-floatinglabel text="Insurance Carrier and Plan">
                    <kendo-dropdownlist aria-label="Insurance Carrier and Plan"
                        [fillMode]="formUiStyle.dropDownFillMode">
                    </kendo-dropdownlist>
                </kendo-floatinglabel>
            </div>
        </div>
    </div>


    <div class="add_new_bottom_section">
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class=" text-center mb-1">
                    <button kendoButton [primary]="true" look="flat" class="button-lg"> Select different Payments
                    </button>
                </div>
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class="">
                    <table class=" info-table-custom left_right_align mb-3">
                        <caption hidden> Refund Information</caption>
                        <tr hidden>
                            <th scope="col">Fields</th>
                            <th scope="col">Details</th>
                          
                        </tr>
                        <tbody>
                            <tr>
                                <td>Index Code</td>
                                <td>XXXXXXXXXX</td>
                            </tr>
                            <tr>
                                <td>PCA Code</td>
                                <td>XXXXXXXXXX</td>
                            </tr>
                            <tr>
                                <td>Grant #</td>
                                <td>XXXXXXXXXX</td>
                            </tr>
                            <tr>
                                <td>Policy ID</td>
                                <td>XXXXXXXXXX</td>
                            </tr>
                            <tr>
                                <td>Group ID</td>
                                <td>XXXXXXXXXX</td>
                            </tr>
                            <tr>
                                <td>Payment ID</td>
                                <td>XXXXXXXXXX</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-10 add_grid_section">
            
                    <kendo-grid [resizable]="true" [groupable]="false" [reorderable]="true" [resizable]="true"
                        [columnMenu]="{ filter: true }" [data]="selectedPremium">

                        <kendo-grid-column field="coverageDates" title="Coverage Dates" [width]="160">
                        </kendo-grid-column>
                        <kendo-grid-column field="warrant" title="Original Warrant #" [width]="160">
                        </kendo-grid-column>
                        <kendo-grid-column field="amountPaid" title="Original Amount Paid" [width]="160">
                        </kendo-grid-column>
                        <kendo-grid-column field="pmtMethod" title="Pmt. Method" [width]="100"> </kendo-grid-column>
                        <kendo-grid-column field="pmtStatus" title="Pmt. Status" [width]="210"> </kendo-grid-column>
                        <kendo-grid-column field="PCA" title="PCA" [width]="120"> </kendo-grid-column>
                        <kendo-grid-column field="mailCode" title="Mail Code" [width]="120"> </kendo-grid-column>
                        <kendo-grid-column field="refundAmount" title="Refund Amount" [width]="120">
                        </kendo-grid-column>
                        <kendo-grid-column field="by" title="By" [width]="120"> </kendo-grid-column>
                    </kendo-grid>
               
            </div>
        </div>
        <div class="flex-row">
            <div class="flex-col flex-col-6">
                <div class=" mb-3">
                    <div class="flex-row">
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text=" VP">
                                <kendo-textbox aria-label="VP" [disabled]="true" [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="VP Suffix (optional)">
                                <kendo-textbox aria-label="VP Suffix (optional)" [disabled]="true"
                                    [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>
                    </div>
                    <div class="flex-row">
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="Refund Warrant #">
                                <kendo-textbox aria-label="Refund Warrant #" [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>

                    </div>
                    <div class="flex-row">
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="Deposit Date">
                                <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode" aria-label="Deposit Date"
                                    format="MM/dd/yyyy" formatPlaceholder="formatPattern">
                                </kendo-datepicker>
                            </kendo-floatinglabel>
                        </div>
                        <div class="flex-col flex-col-6">
                            <kendo-floatinglabel text="Refund Note (optional)">
                                <kendo-textbox aria-label="Refund Note (optional)"
                                    [fillMode]="formUiStyle.inputFillMode">
                                </kendo-textbox>
                            </kendo-floatinglabel>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <h5>Select all premiums included in this refund:</h5>
            <div>
                <cms-vendor-refund-claims-list [claimsListData$]="claimsListData$"
                [pageSizes]="pageSizes" [sortValue]="sortValue"
                [sortType]="sortType" [sort]="sort" 
                (loadClaimsListEvent)="loadClaimsListGrid()" 
                  ></cms-vendor-refund-claims-list>
            </div>
            <div class="d-flex align-items-center mt-1">
                <button kendoButton [primary]="true" aria-label="Confirm Selections" class=""> Confirm Selections
                </button>
                <span class="ml-2">0 payment(s) selected</span>
            </div>
        </div>
    </div>
 
    



</section>
<div class="add_new_fixed_bottom">
    <div>
        <h5>Insurance Premium Payments for FName LName</h5>
        <div class="add_new_fixed_bottom_grid_section">
            <cms-vendor-refund-claims-list [claimsListData$]="claimsListData$"
            [pageSizes]="pageSizes" [sortValue]="sortValue"
            [sortType]="sortType" [sort]="sort" 
            (loadClaimsListEvent)="loadClaimsListGrid()" 
              ></cms-vendor-refund-claims-list>
        </div>
        <div class="d-flex align-items-center mt-1">
            <button kendoButton [primary]="true" aria-label="Confirm Selections" class=""> Add </button>
            <button kendoButton [primary]="true" look="outline" class="ml-2" aria-label="Cancel"> Cancel </button>
            <span class="ml-2">0 payment(s) selected</span>
        </div>
    </div>

</div>