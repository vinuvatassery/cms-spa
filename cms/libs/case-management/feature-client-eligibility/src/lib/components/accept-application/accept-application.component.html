<div  [formGroup]="eligibilityForm">
<section class="k-dialog-body">
  <p class="text-muted mb-2">
    Set Status, Group, and Eligibility Period. You’ll be prompted to send an
    approval or pending notice after you click “Initiate Benefits.”
  </p>
  <div class="flex-row">
    <div class="flex-col">
      <kendo-floatinglabel text="Case Status">
        <kendo-dropdownlist
        [fillMode]="formUiStyle.dropDownFillMode"
        [data]="caseStatusList$ | async"
        formControlName ="caseStatusCode"
        textField ="lovDesc"
        valueField ="lovCode"
        [valuePrimitive]="true"
        (valueChange)="startDateOnChange($event)">
        </kendo-dropdownlist>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="!eligibilityForm.controls['caseStatusCode'].valid && isSave">Case status is required.</kendo-formerror>

    </div>
    <div class="flex-col">
      <kendo-floatinglabel text="Group">
        <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode"
        [data]="groupList$ | async"
        formControlName ="groupCode"
        textField ="lovDesc"
        valueField ="lovCode"
        [valuePrimitive]="true"
        (valueChange)="startDateOnChange($event)">
        </kendo-dropdownlist>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="!eligibilityForm.controls['groupCode'].valid && isSave">Group is required.</kendo-formerror>
    </div>
    <div class="flex-col flex-col-6">
      <kendo-floatinglabel text="Eligibility Start Date">
        <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode"
        format="MM-dd-yyyy"
          formControlName ="eligibilityStartDate"
          formatPlaceholder="formatPattern"
          placeholder=""
          (valueChange)="startDateOnChange($event)">
        </kendo-datepicker>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="!eligibilityForm.controls['eligibilityStartDate'].valid && isSave">Eligibility start date is required.</kendo-formerror>
    </div>
    <div class="flex-col flex-col-6">
      <kendo-floatinglabel text="Eligibility End Date">
        <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode"
        format="MM-dd-yyyy"
          formControlName ="eligibilityEndDate"
          formatPlaceholder="formatPattern"
          [min]="eligibilityForm.controls['eligibilityStartDate'].value"
          placeholder="">
        </kendo-datepicker>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="!eligibilityForm.controls['eligibilityEndDate'].valid && isSave">Eligibility end date is required.</kendo-formerror>
    </div>
    <div class="flex-col">
      <kendo-floatinglabel text="">
        <!-- <input kendoTextBox aria-label="assigned case worker" /> -->
        <kendo-textbox aria-label="assigned case worker" [disabled]="true"
        [fillMode]="formUiStyle.inputFillMode"
        formControlName="assignedCwUser"
        ></kendo-textbox>
      </kendo-floatinglabel>
    </div>
  </div>
</section>
</div>

<kendo-dialog-actions>
  <div class="justify-content-between">
    <div class="justify-content-end">
      <button
        kendoButton
        aria-label="cancel send letter"
        [primary]="true"
        look="outline"
      >
        Cancel
      </button>
      <button
        kendoButton
        [primary]="true"
        aria-label="initiate benefits"
        (click)="save()"
      >
        Initiate Benefits
      </button>
    </div>
  </div>
</kendo-dialog-actions>
