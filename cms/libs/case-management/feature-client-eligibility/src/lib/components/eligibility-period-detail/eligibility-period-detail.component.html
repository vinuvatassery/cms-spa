<kendo-dialog-titlebar *ngIf="!isCurrentEligibilityPending && pageLoaded" (close)="onModalCloseClicked()"> Start New Status Period </kendo-dialog-titlebar>
<kendo-dialog-titlebar *ngIf="isCurrentEligibilityPending && pageLoaded" (close) ="onModalCloseClicked()"> Resume Status Period </kendo-dialog-titlebar>
<div *ngIf="!isCurrentEligibilityPending && pageLoaded">  
<section class="k-dialog-body" [formGroup]="eligibilityPeriodForm" >
  <p class="text-muted mb-2">
    Except for PENDING, changing the status initiates a new Status Period. The
    new Status Period may not overlap with a previous one.
  </p>
  <div class="flex-row">
    <div class="flex-col">
      <kendo-floatinglabel text="Status" class="inline-search-loader">
        <span *ngIf="showEligibilityStatusLoader | async" class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"  ></span>
        <kendo-dropdownlist   
        [fillMode]="formUiStyle.dropDownFillMode" 
        [data]="ddlStatus$ | async"
        textField="lovDesc" 
        valueField="lovCode"
        formControlName ="eligibilityStatus"
        (valueChange)="onEligibilityStatusChanged()"
        [valuePrimitive]="true"> 
      </kendo-dropdownlist>
      </kendo-floatinglabel>
    </div>
    <div class="flex-col flex-col-6">
      <kendo-floatinglabel text="Status Start Date">
        <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode"  
         format="MM-dd-yyyy" 
        formatPlaceholder="formatPattern"
        formControlName ="statusStartDate">
        </kendo-datepicker>
      </kendo-floatinglabel>
    </div>
    <div class="flex-col flex-col-6">
      <kendo-floatinglabel text="Status End Date">
        <kendo-datepicker [fillMode]="formUiStyle.dateInputFillMode"  
         format="MM-dd-yyyy" 
        formatPlaceholder="formatPattern"
        formControlName ="statusEndDate">
        </kendo-datepicker>
      </kendo-floatinglabel>
    </div>
    <div class="flex-col">
      <kendo-floatinglabel text="Group">
        <kendo-dropdownlist 
        [fillMode]="formUiStyle.dropDownFillMode" 
        [data]="ddlGroups$ | async"
        formControlName ="group"
        textField="lovDesc" 
        valueField="lovCode"
        [valuePrimitive]="true"> </kendo-dropdownlist>
      </kendo-floatinglabel>
    </div>
  </div>
</section>
<kendo-dialog-actions>
  <div class="justify-content-between">
    <div class="justify-content-end">
      <button
        kendoButton
        aria-label="cancel new status period"
        [primary]="true"
        look="outline"
      >
        Cancel
      </button>
      <button kendoButton aria-label="start new status period" [primary]="true"(click)="startNewEligibility()">
        Start
      </button>
    </div>
  </div>
</kendo-dialog-actions>
</div>

<div *ngIf="isCurrentEligibilityPending && pageLoaded">
  
<section class="k-dialog-body" [formGroup]="eligibilityPeriodForm" >
  <p class="text-muted mb-2">
    The PENDING status paused the client's eligibility. Would you like to resume the paused status period, or start a brand new one.
  </p>
  <div class="flex-row">
    <div class="flex-col">
      <b> CURRENT STATUS</b>
    </div>
    <div class="flex-col">
      <b>Status:</b>
    </div>
    <div class="flex-col">
     <b>Status Start Date:</b>
    </div>
  <br><br><br>
    <div class="flex-col">
      <b>PAUSED STATUS</b>
    </div>
    <div class="flex-col">
      <b>Status:</b>
    </div>
    <div class="flex-col">
     <b>Status Start Date:</b>
    </div>
    <div class="flex-col">
      <b>Group:</b>
     </div> 
  </div>
</section>
<kendo-dialog-actions>
  <div class="justify-content-between">
    <div class="justify-content-end">
      <button
        kendoButton
        aria-label="start new status"
        [primary]="true"
        look="outline"
      >
        START NEW STATUS
      </button>
      <button kendoButton aria-label="start new status period" [primary]="true">
        RESUME STATUS
      </button>
    </div>
  </div>
</kendo-dialog-actions>
</div>


