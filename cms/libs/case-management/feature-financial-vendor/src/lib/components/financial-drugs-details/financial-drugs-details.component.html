<!-- employer form details -->
<form class="k-form" [formGroup]="drugForm">
    <section class="k-dialog-body">
        <p class="text-muted mb-1">
            All fields are required unless otherwise stated.
        </p>
        <div class="flex-row">
            <div class="flex-col mb-1">
                <kendo-floatinglabel text="Manufacturer">
                    <kendo-dropdownlist [data]="vendors" [fillMode]="formUiStyle.dropDownFillMode"
                        [valuePrimitive]="true" textField="vendorName" valueField="vendorId" aria-label="Manufacturer"
                        formControlName="manufacturer" [disabled]="false">
                    </kendo-dropdownlist>
                </kendo-floatinglabel>
            </div>
            <div class="flex-col mb-1">
                <kendo-floatinglabel text="NDC Code">
                    <kendo-maskedtextbox aria-label="NDC Code" [fillMode]="formUiStyle.inputFillMode"
                        formControlName="ndcNbr" [mask]="ndcMaskFormat">
                    </kendo-maskedtextbox>
                </kendo-floatinglabel>
                <kendo-formerror
                    *ngIf="(!drugForm.controls['ndcNbr'].valid && drugForm.controls['ndcNbr'].hasError('required')) && isSubmitted">
                    NDC number is required.
                </kendo-formerror>
                <kendo-formerror *ngIf="drugForm.controls['ndcNbr'].hasError('maxlength')">
                    NDC number cannot exceed 13 characters.
                </kendo-formerror>
            </div>

            <div class="flex-col mb-1">
                <kendo-floatinglabel text="Drug Name">
                    <kendo-textbox placeholder="Drug Name" [fillMode]="formUiStyle.inputFillMode"
                        formControlName="drugName">
                    </kendo-textbox>
                </kendo-floatinglabel>
                <kendo-formerror
                    *ngIf="(!drugForm.controls['drugName'].valid && drugForm.controls['drugName'].hasError('required')) && isSubmitted">
                    Drug name is required.
                </kendo-formerror>
                <kendo-formerror *ngIf="drugForm.controls['drugName'].hasError('maxlength')">
                    Drug name cannot exceed 200 characters.
                </kendo-formerror>
            </div>

            <div class="flex-col mb-1">

                <kendo-floatinglabel text="Brand Name">
                    <kendo-textbox aria-label="Brand Name" [fillMode]="formUiStyle.inputFillMode"
                        formControlName="brandName">
                    </kendo-textbox>
                </kendo-floatinglabel>
                <kendo-formerror
                    *ngIf="(!drugForm.controls['brandName'].valid && drugForm.controls['brandName'].hasError('required')) && isSubmitted">
                    Brand name is required.
                </kendo-formerror>
                <kendo-formerror *ngIf="drugForm.controls['brandName'].hasError('maxlength')">
                    Brand name cannot exceed 200 characters.
                </kendo-formerror>
            </div>

            <div class="flex-col mb-1">
                <kendo-floatinglabel text="Delivery Method">
                    <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" textField="deliveryMethodCode"
                        valueField="deliveryMethodCode" [data]="deliveryMethodCodes" aria-label="State"
                        [valuePrimitive]="true" formControlName="deliveryMethodCode">
                    </kendo-dropdownlist>
                </kendo-floatinglabel>
                <kendo-formerror *ngIf="(!drugForm.controls['deliveryMethodCode'].valid) &&isSubmitted">A Delivery
                    Method code must be
                    selected</kendo-formerror>
            </div>

            <div class="flex-col mb-1 mt-1">

                <fieldset class="k-form-fieldset no_margin_fieldset">
                    <legend class="k-form-legend">
                        <h5>Drug Type</h5>
                    </legend>
                    <div class="component-list-h">
                        <span class="app-radiobtnwidtext-wrapper">

                            <input type="radio" kendoRadioButton aria-labelledby="manufacturerrebatesyes"
                                formControlName="drugType" id="manufacturerrebatesyes" class="form-control" value="HIV"
                                name="manufacturerRebates" />
                            <label class="k-radio-label" for="manufacturerrebatesyes">HIV</label>
                        </span>
                        <span class="app-radiobtnwidtext-wrapper">
                            <input type="radio" kendoRadioButton aria-labelledby="manufacturerrebatesno"
                                formControlName="drugType" id="manufacturerrebatesno" value="HEPA"
                                name="manufacturerRebates" />
                            <label class="k-radio-label" for="manufacturerrebatesno">Hepatitis</label>
                        </span>
                        <span class="app-radiobtnwidtext-wrapper">
                            <input type="radio" kendoRadioButton aria-labelledby="manufacturerrebatesno"
                                formControlName="drugType" id="manufacturerrebatesno" value="OPPO"
                                name="manufacturerRebates" />
                            <label class="k-radio-label" for="manufacturerrebatesno">Opportunistic Infection</label>
                        </span>
                    </div>
                </fieldset>
            </div>
        </div>
    </section>
    <kendo-dialog-actions>
        <div class="justify-content-between mt-2">
            <div>
                <button *ngIf="dialogTitle==='Edit'" kendoButton [primary]="true" look="flat" aria-label="Deactivate">
                    Deactivate </button>
            </div>
            <div class="justify-content-end">
                <button kendoButton [primary]="true" aria-label="Cancel" look="outline" (click)="onCancelClick()">
                    Cancel </button>
                <button kendoButton [primary]="true" attr.aria-label="{{dialogTitle==='Add'?'Add':'Update'}}"
                    (click)="save()"> {{saveButtonText}} </button>
            </div>
        </div>
    </kendo-dialog-actions>
</form>