<div class="vendor_header_container pt-0">
  <common-bread-crumb></common-bread-crumb>
  <div class="app-l-inner-rapper pt-0 pb-0 pl-0" kendoRippleContainer kendoTooltip>
    <!-- Main Title Section -->
    <section class="app-l-mainTittle">
      <div class="vendor-header-top mb-1">
        <div class="d-flex">
          <button aria-label="back to vendor list" kendoButton look="flat" title="Go Back" (click)="onBackClicked()"  title="Back"> <span
            class="material-icons">
            arrow_back </span> </button>
        <h1 class="title_with_bld">
          <span class="bold-text pl-1" [ngClass]="getHeaderPreferredFlag(vendorProfile$)"> {{vendorProfile$?.vendorName}}</span>
          <span class="title-star-icon icon-filled" aria-label="special Handling Details" aria-hidden="true">
            <span kendoPopoverAnchor showOn="hover"  [popover]="specialHandlingDetails" class="material-icons" aria-label="user information star"
              aria-hidden="true">star</span>
          </span>

        </h1>
        </div>

        <div class="title-client-info-block ml-2">
          <span *ngIf="vendorProfile$?.tin" class="title-client-info">TIN {{vendorProfile$?.tin}} </span>
          <span class="title-client-info">{{vendorProfile$?.unReconciledPayments}} Unreconciled Claim(s) </span>
        </div>
      </div>
    </section>
  </div>
  <section>

    <div class="flex-row align-items-end">
      <div class="flex-col flex-col-10">
        <div class="info-banners red-banner hover-link ">

          <div class="flex-col info-banners p-0">
            <span class="material-icons" aria-label="to do" aria-hidden="true">playlist_add_check</span>
            <span class="text-bold">Renew Eligibility </span>
            <span class="text-normal">(Due today)</span>
          </div>

          <div class="">
            <kendo-dropdownbutton icon="more-vertical" title="More option" [data]="reminderActions" look="bare"
              aria-label="more actions" class="small-i-btn app-dropdown-action cvp_three_dot_drop_btn" [popupSettings]="{
            popupClass: reminderActionPopupClass,
            animate: true
          }">
              <span hidden> More Option</span>
              <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
                <button kendoButton look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType"
                  aria-hidden="false" (click)="dataItem.click">
                  <span class="material-icons" [attr.aria-label]="dataItem.text">{{dataItem.icon}}</span>
                  <label> {{ dataItem.text }} </label>
                </button>
              </ng-template>
            </kendo-dropdownbutton>
          </div>
        </div>
        <div class="info-banners canyon-banner hover-link mt-1" *ngIf="showMoreAlert">

          <div class="flex-col info-banners p-0">
            <span class="material-icons" aria-label="to do" aria-hidden="true">playlist_add_check</span>
            <span class="text-bold">Renew Eligibility </span>
            <span class="text-normal">(Due today)</span>
          </div>

          <div class="">
            <kendo-dropdownbutton icon="more-vertical" title="More option" [data]="reminderActions" look="bare"
              aria-label="more actions" class="small-i-btn app-dropdown-action cvp_three_dot_drop_btn" [popupSettings]="{
            popupClass: reminderActionPopupClass,
            animate: true
          }">
              <span hidden> More Option</span>
              <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
                <button kendoButton look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType"
                  aria-hidden="false" (click)="dataItem.click">
                  <span class="material-icons" [attr.aria-label]="dataItem.text">{{dataItem.icon}}</span>
                  <label> {{ dataItem.text }} </label>
                </button>
              </ng-template>
            </kendo-dropdownbutton>
          </div>
        </div>
        <div class="info-banners  canyon-banner hover-link mt-1" *ngIf="showMoreAlert">

          <div class="flex-col info-banners p-0">
            <span class="material-icons" aria-label="to do" aria-hidden="true">playlist_add_check</span>
            <span class="text-bold">Renew Eligibility </span>
            <span class="text-normal">(Due today)</span>
          </div>

          <div class="">
            <kendo-dropdownbutton icon="more-vertical" title="More option" [data]="reminderActions" look="bare"
              aria-label="more actions" class="small-i-btn app-dropdown-action cvp_three_dot_drop_btn" [popupSettings]="{
            popupClass: reminderActionPopupClass,
            animate: true
          }">
              <span hidden> More Option</span>
              <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
                <button kendoButton look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType"
                  aria-hidden="false" (click)="dataItem.click">
                  <span class="material-icons" [attr.aria-label]="dataItem.text">{{dataItem.icon}}</span>
                  <label> {{ dataItem.text }} </label>
                </button>
              </ng-template>
            </kendo-dropdownbutton>
          </div>
        </div>

      </div>
      <div class="flex-col flex-col-2">
        <button aria-label="More Items" kendoButton look="flat" class="card-link-button"  kendoPopoverAnchor showOn="click" [popover]="moreAlertmessage">


          {{ showMoreAlert ? 'Hide Items' : ' 2+ More Items ' }}
        </button>
      </div>
    </div>

  </section>
  <cms-vendor-header-tools [vendorProfile$]="vendorProfile$"></cms-vendor-header-tools>
</div>




  <!-- special handling Details Popover -->
  <kendo-popover #specialHandlingDetails [width]="380" position="bottom">
    <ng-template kendoPopoverBodyTemplate>
      <cms-vendor-special-handling
      [vendorProfileSpecialHandling$] ="vendorProfileSpecialHandling$ | async"
      (loadSpecialHandlingEvent)="loadSpecialHandling()">
    </cms-vendor-special-handling>
    </ng-template>
   </kendo-popover>


   <kendo-popover
   #moreAlertmessage
   width="330"
   position="left"
 >
   <ng-template kendoPopoverBodyTemplate>
<div class="p-2 popover-banner-container">
  <div class="info-banners canyon-banner hover-link mt-1"  >

    <div class="flex-col info-banners p-0">
      <span class="material-icons" aria-label="to do" aria-hidden="true">playlist_add_check</span>
      <span class="text-bold">Renew Eligibility </span>
      <span class="text-normal">(Due today)</span>
    </div>

    <div class="">
      <kendo-dropdownbutton icon="more-vertical" title="More option" [data]="reminderActions" look="bare"
        aria-label="more actions" class="small-i-btn app-dropdown-action cvp_three_dot_drop_btn" [popupSettings]="{
      popupClass: reminderActionPopupClass,
      animate: true
    }">
        <span hidden> More Option</span>
        <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
          <button kendoButton look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType"
            aria-hidden="false" (click)="dataItem.click">
            <span class="material-icons" [attr.aria-label]="dataItem.text">{{dataItem.icon}}</span>
            <label> {{ dataItem.text }} </label>
          </button>
        </ng-template>
      </kendo-dropdownbutton>
    </div>
  </div>
  <div class="info-banners  canyon-banner hover-link mt-1" >

    <div class="flex-col info-banners p-0">
      <span class="material-icons" aria-label="to do" aria-hidden="true">playlist_add_check</span>
      <span class="text-bold">Renew Eligibility </span>
      <span class="text-normal">(Due today)</span>
    </div>

    <div class="">
      <kendo-dropdownbutton icon="more-vertical" title="More option" [data]="reminderActions" look="bare"
        aria-label="more actions" class="small-i-btn app-dropdown-action cvp_three_dot_drop_btn" [popupSettings]="{
      popupClass: reminderActionPopupClass,
      animate: true
    }">
        <span hidden> More Option</span>
        <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
          <button kendoButton look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType"
            aria-hidden="false" (click)="dataItem.click">
            <span class="material-icons" [attr.aria-label]="dataItem.text">{{dataItem.icon}}</span>
            <label> {{ dataItem.text }} </label>
          </button>
        </ng-template>
      </kendo-dropdownbutton>
    </div>
  </div>

  <button aria-label="View More" kendoButton look="flat" class="card-link-button mt-1" (click)="onNotificationsAndRemindersOpenClicked(notificationsAndRemindersDialog)">  View More on Notification Panel </button>
</div>
   </ng-template>
 </kendo-popover>


 <!-- Create New Reminder Popup -->
<ng-template #notificationsAndRemindersDialog>

  <kendo-dialog-titlebar  (close)="onNotificationsAndRemindersClosed()">
    <span
      class="material-icons mr-1"
      aria-hidden="true"
      aria-label="notifications"
      >notifications</span
    >
    <span class="text-bold">Notifications and Reminders</span>
  </kendo-dialog-titlebar>

 <productivity-tools-notification-and-reminder-page></productivity-tools-notification-and-reminder-page>
</ng-template>
