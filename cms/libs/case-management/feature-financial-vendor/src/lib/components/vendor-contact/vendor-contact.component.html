<div [formGroup]="from">
    <div formArrayName="newAddContactForm">
        <div *ngFor="let contact of AddContactForm.controls; let i=index">
            <div [formGroupName]="i" class="flex-row mt-2">

                <div class="flex-col d-flex align-iems-center justify-content-between">
                    <h4 class="mb-0">CONTACT {{i+1}} (OPTIONAL)</h4>
                    <button kendoButton class="k-danger-link"
                        aria-label="delete contact" (click)="removeContact(i)">
                        DELETE CONTACT
                    </button>
                </div>

                <div class="flex-col">
                    <kendo-floatinglabel text=" Name">
                        <kendo-textbox aria-label="Contact Name" [fillMode]="formUiStyle.inputFillMode" [maxlength]="200"
                            formControlName="contactName"
                            (keypress)="onKeyPress($event.charCode)">
                        </kendo-textbox>
                    </kendo-floatinglabel>
                    <p class="text-muted mb-2">
                        If adding a contact person, Name is required
                    </p>
                    <kendo-formerror *ngIf="formSubmitted && !getContactControl(i, 'contactName')?.valid">Contact Name is
                        required</kendo-formerror>
                </div>
                <div class="flex-col mb-1">
                    <kendo-floatinglabel text="Description (Optional)">
                        <kendo-textbox aria-label="Description (Optional)" [fillMode]="formUiStyle.inputFillMode" [maxlength]="500"
                            formControlName="description" (keypress)="onKeyPress($event.charCode)">
                        </kendo-textbox>
                    </kendo-floatinglabel>
                </div>
                <div class="flex-col mb-1">

                    <kendo-floatinglabel text="Phone Number (optional)">
                        <kendo-maskedtextbox [maxlength]="10"  placeholder="Phone Number (optional)"  mask="(999) 000-0000" aria-label="Phone Number (optional)" [fillMode]="formUiStyle.inputFillMode"
                            formControlName="phoneNumber">
                        </kendo-maskedtextbox>
                    </kendo-floatinglabel>
                    <kendo-formerror *ngIf="formSubmitted && getContactControl(i, 'phoneNumber')?.errors?.['pattern']">
                      Contact's Phone Number must have 10 digits
                    </kendo-formerror>
                </div>
                <div class="flex-col mb-1">

                    <kendo-floatinglabel text="Fax Number (optional)">
                        <kendo-maskedtextbox [maxlength]="10" aria-label="Fax (optional)" placeholder="Fax (optional)" mask="(999) 000-0000" [fillMode]="formUiStyle.inputFillMode"
                            formControlName="fax">
                        </kendo-maskedtextbox>
                    </kendo-floatinglabel>
                    <kendo-formerror *ngIf="formSubmitted && getContactControl(i, 'fax')?.errors?.['pattern']">
                      Contact's Fax must have 10 digits
                    </kendo-formerror>
                </div>

                <div class="flex-col mb-1 ">
                    <kendo-floatinglabel text="Email Address (optional)">
                        <kendo-textbox  [maxlength]="100" aria-label="Email Address (optional)" [fillMode]="formUiStyle.inputFillMode"
                            formControlName="email">
                        </kendo-textbox>
                    </kendo-floatinglabel>
                    <kendo-formerror *ngIf="formSubmitted && getContactControl(i, 'email')?.errors?.['pattern']">
                      Not a valid email format
                    </kendo-formerror>
                </div>
            </div>
        </div>









        <div class="mt-1">
            <button kendoButton icon="add" [primary]="true" look="flat" aria-label="Add Contact"
                (click)="onToggleAddNewContactClick()">
                Contact
            </button>
        </div>
    </div>
</div>
