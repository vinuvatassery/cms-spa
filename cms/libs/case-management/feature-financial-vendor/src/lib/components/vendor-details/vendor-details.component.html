<section class="k-dialog-body">
  <div [formGroup]="medicalProviderForm">
    <p class="text-muted mb-2">
      All fields are required unless otherwise stated.
    </p>
    <div class="flex-row">
      <div class="flex-col">
        <kendo-floatinglabel text="Provider Name">
          <kendo-textbox aria-label="Provider Name" [fillMode]="formUiStyle.inputFillMode"
            formControlName="providerName">
          </kendo-textbox>
          <kendo-formerror *ngIf="!medicalProviderForm.controls['providerName'].valid && isValidateForm">
            Provider name is required
          </kendo-formerror>
        </kendo-floatinglabel>
      </div>

      <div class="flex-col">
        <kendo-floatinglabel text="TIN">
          <kendo-textbox aria-label="TIN" [fillMode]="formUiStyle.inputFillMode" formControlName="tinNumber">
          </kendo-textbox>
        </kendo-floatinglabel>
      </div>
      <div *ngIf="!isMedicalProvider" class="flex-col mt-1">
        <div class="component-list-h">
          <span class="app-checkboxwidtext-wrapper">
            <input type="checkbox" kendoCheckBox aria-labelledby="Rebate" id="isPreferedPharmacy"
              formControlName="isPreferedPharmacy" />
            <label class="k-checkbox-label" for="isPreferedPharmacy"> This is a preferred pharmacy </label>
          </span>
        </div>
      </div>
    </div>
    <!-- Payment address  -->
    <div class="flex-row mt-1">
      <div class="flex-col">
        <h4 class="mb-1">PAYMENT ADDRESS (OPTIONAL)</h4>
        <p>Add a payment address and contacts for that address. Additional payment addresses may be added once the
          manufacturer is added. If you add a payment address, all fields are required unless otherwise stated.
        </p>
      </div>

      <div class="flex-col">
        <kendo-floatinglabel text="Mail Code">
          <kendo-textbox aria-label="Mail Code" [fillMode]="formUiStyle.inputFillMode" formControlName="mailCode">
          </kendo-textbox>
        </kendo-floatinglabel>
      </div>

      <div class="flex-col">
        <kendo-floatinglabel text="Name on Check">
          <kendo-textbox aria-label="Name on Check" [fillMode]="formUiStyle.inputFillMode"
            formControlName="nameOnCheck">
          </kendo-textbox>
        </kendo-floatinglabel>
      </div>

      <div class="flex-col">
        <kendo-floatinglabel text="Name on Envelop">
          <kendo-textbox aria-label="Name on Envelop" [fillMode]="formUiStyle.inputFillMode"
            formControlName="nameOnEnvolop">
          </kendo-textbox>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col">
        <kendo-floatinglabel text="Address Line 1">
          <kendo-textbox aria-label="Address Line 1" [fillMode]="formUiStyle.inputFillMode"
            formControlName="addressLine1">
          </kendo-textbox>
          <kendo-formerror *ngIf="!medicalProviderForm.controls['addressLine1'].valid && isValidateForm">
            Address Line 1 is required
          </kendo-formerror>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col">
        <kendo-floatinglabel text="Address Line 2 (optional)">
          <kendo-textbox aria-label="Address Line 2 (optional)" [fillMode]="formUiStyle.inputFillMode"
            formControlName="addressLine2">
          </kendo-textbox>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col">
        <kendo-floatinglabel text="City">
          <kendo-textbox aria-label="City" [fillMode]="formUiStyle.inputFillMode" formControlName="city">
          </kendo-textbox>
          <kendo-formerror *ngIf="!medicalProviderForm.controls['city'].valid && isValidateForm">
            City is required
          </kendo-formerror>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col flex-col-6">
        <kendo-floatinglabel text="State">
          <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" textField="lovDesc" valueField="lovCode"
            [valuePrimitive]="true" formControlName="state">
          </kendo-dropdownlist>
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!medicalProviderForm.controls['state'].valid && isValidateForm">
          State is required
        </kendo-formerror>
      </div>
      <div class="flex-col flex-col-6">
        <kendo-floatinglabel text="Zip">
          <kendo-textbox aria-label="Zip" [fillMode]="formUiStyle.inputFillMode" formControlName="zip">
          </kendo-textbox>
          <kendo-formerror *ngIf="!medicalProviderForm.controls['zip'].valid && isValidateForm">
            Zip is required
          </kendo-formerror>
        </kendo-floatinglabel>
      </div>

      <div *ngIf="!isMedicalProvider" class="flex-col mt-1">
        <button kendoButton icon="add" [primary]="true" look="flat" aria-label="Add address">
          Address
        </button>
      </div>

      <!-- payment method -->
      <div class="flex-col mt-1">
        <fieldset class="k-form-fieldset ">
          <legend class="k-form-legend">
            <h5 class="mb-0"> Payment Method </h5>
          </legend>

          <div class="component-list-h">
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton aria-labelledby="Check" name="paymentMethodRB"
                formControlName="paymentMethodRB" id="Check" />
              <kendo-label class="k-radio-label" text="Check" for="Check"></kendo-label>
            </span>
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton name="paymentMethodRB" formControlName="paymentMethodRB" id=" ACH"
                aria-labelledby="ACH" />
              <kendo-label class="k-radio-label" text="No" for="ACH"></kendo-label>
            </span>
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton name="paymentMethodRB" formControlName="paymentMethodRB" id="SPOTS"
                value="1" aria-labelledby="SPOTS" />
              <kendo-label class="k-radio-label" text="SPOTS" for="SPOTS"></kendo-label>
            </span>
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton name="paymentMethodRB" formControlName="paymentMethodRB"
                id="DOR Hold" aria-labelledby="DOR Hold" />
              <kendo-label class="k-radio-label" text="DOR Hold" for="DOR Hold"></kendo-label>
            </span>
          </div>
          <kendo-formerror *ngIf="!medicalProviderForm.controls['paymentMethodRB'].valid && isValidateForm">
            Payment Method is required
          </kendo-formerror>
        </fieldset>
      </div>

      <!-- special handling -->
      <div class="flex-col flex-col-11">
        <kendo-floatinglabel text="Special Handling (optional)">
          <kendo-textarea [fillMode]="formUiStyle.inputFillMode" #SpecialHandling resizable="auto" id="SpecialHandling"
            [maxlength]="SpecialHandlingLength" aria-label="Special Handling" formControlName="specialHandling">
          </kendo-textarea>
        </kendo-floatinglabel>
      </div>

      <div class="flex-col flex-col-6" *ngIf="!isMedicalProvider">
        <kendo-floatinglabel text="Payment Run Date">
          <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" textField="lovDesc" valueField="lovCode"
            [valuePrimitive]="true" formControlName="paymentRunDate">
          </kendo-dropdownlist>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col flex-col-6 mt-4" *ngIf="!isMedicalProvider">
        <kendo-label> Of each Month</kendo-label>
      </div>

      <div class="flex-col mt-1" *ngIf="!isMedicalProvider">
        <fieldset class="k-form-fieldset">
          <legend class="k-form-legend">
            <h5 class="mb-0"> Accepts combined payments? </h5>
          </legend>

          <div class="component-list-h">
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton aria-labelledby="combinedpaymentsYes" name="combinedPayments"
                id="combinedpaymentsYes" formControlName="combinedPayments" />
              <kendo-label class="k-radio-label" text="Yes" for="combinedpaymentsYes"></kendo-label>
            </span>
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton name="combinedPayments" id=" combinedpaymentsno"
                name="combinedPayments" aria-labelledby="combinedpaymentsno" formControlName="combinedPayments" />
              <kendo-label class="k-radio-label" text="No" for="combinedpaymentsno"></kendo-label>
            </span>

          </div>
        </fieldset>
      </div>

      <div class="flex-col mt-1" *ngIf="!isMedicalProvider">
        <fieldset class="k-form-fieldset">
          <legend class="k-form-legend">
            <h5 class="mb-0"> Accepts reports? </h5>
          </legend>

          <div class="component-list-h">
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton aria-labelledby="reportsYes" name="medicalReportsYes"
                formControlName="medicalReportsYes" id="reportsYes" />
              <kendo-label class="k-radio-label" text="Yes" for="reportsYes"></kendo-label>
            </span>
            <span class="app-radiobtnwidtext-wrapper">
              <input type="radio" kendoRadioButton name="reports" id="reportsno" aria-labelledby="reportsno"
                name="medicalReportsNo" formControlName="medicalReportsNo" />
              <kendo-label class="k-radio-label" text="No" for="reportsno"></kendo-label>
            </span>

          </div>
        </fieldset>
      </div>
      <div class="flex-col" *ngIf="!isMedicalProvider">
        <fieldset class="k-form-fieldset no_margin_fieldset">
          <legend class="k-form-legend">
            <h5>Invoice For (Select all that apply)</h5>
          </legend>
          <div class="component-list-h">
            <span class="app-checkboxwidtext-wrapper">
              <input type="checkbox" kendoCheckBox aria-labelledby="Rebate" id="Rebate" name="invoiceForRebate"
                formControlName="invoiceForRebate" />
              <label class="k-checkbox-label" for="Rebate"> 340B Rebate </label>

            </span>
            <span class="app-checkboxwidtext-wrapper">
              <input type="checkbox" kendoCheckBox aria-labelledby="Nastad" id="Nastad" />
              <label class="k-checkbox-label" for="Nastad"> Nastad supply </label>

            </span>


          </div>
        </fieldset>
      </div>
      <div class="flex-col flex-col-12" *ngIf="!isMedicalProvider">
        <kendo-floatinglabel text="Special Handling (optional)">
          <kendo-textarea [fillMode]="formUiStyle.inputFillMode" #SpecialHandling resizable="auto" id="SpecialHandling"
            [maxlength]="SpecialHandlingLength" aria-label="Special Handling">
          </kendo-textarea>
        </kendo-floatinglabel>
      </div>
    </div>

    <!-- Contacts -->

    <div formArrayName="newAddContactForm">
      <div *ngFor="let contact of newAddContactForm.controls; let i=index">
        <div [formGroupName]="i" class="flex-row mt-2">

          <div class="flex-col d-flex align-iems-center justify-content-between" [formGroupName]="i">
            <h4 class="mb-0">CONTACT {{i+1}} (OPTIONAL)</h4>
            <button kendoButton class="card-link-button no-ul text-bold k-danger-link" aria-label="delete contact"
              (click)="removeContact(i)">
              DELETE CONTACT
            </button>
          </div>

          <div class="flex-col">
            <kendo-floatinglabel text=" Name">
              <kendo-textbox aria-label="Contact Name" [fillMode]="formUiStyle.inputFillMode" [maxlength]="40"
                formControlName="contactName">
              </kendo-textbox>
            </kendo-floatinglabel>
            <p class="text-muted mb-2">
                If adding a contact person, Name is required
            </p>
            <kendo-formerror *ngIf="!getContactControl(i, 'contactName')?.valid && isValidateForm">Contact Name is
              required</kendo-formerror>
          </div>
          <div class="flex-col mb-1">
            <kendo-floatinglabel text="Description (Optional)">
              <kendo-textbox aria-label="Description (Optional)" [fillMode]="formUiStyle.inputFillMode"
                formControlName="description">
              </kendo-textbox>
            </kendo-floatinglabel>
          </div>
          <div class="flex-col mb-1">

            <kendo-floatinglabel text="Phone Number (optional)">
              <kendo-textbox aria-label="Phone Number (optional)" [fillMode]="formUiStyle.inputFillMode"
                formControlName="phoneNumber">
              </kendo-textbox>
            </kendo-floatinglabel>
          </div>
          <div class="flex-col mb-1">

            <kendo-floatinglabel text="Fax (optional)">
              <kendo-textbox aria-label="Fax (optional)" [fillMode]="formUiStyle.inputFillMode" formControlName="fax">
              </kendo-textbox>
            </kendo-floatinglabel>
          </div>

          <div class="flex-col mb-1 ">
            <kendo-floatinglabel text="Email Address (optional)">
              <kendo-textbox aria-label="Email Address (optional)" [fillMode]="formUiStyle.inputFillMode"
                formControlName="email">
              </kendo-textbox>
            </kendo-floatinglabel>
          </div>
        </div>
      </div>









      <div class="flex-col">
        <button kendoButton icon="add" [primary]="true" look="flat" aria-label="Add Contact"
          (click)="onToggleAddNewContactClick()">
          Contact
        </button>
      </div>
    </div>
  </div>
</section>

<kendo-dialog-actions>
  <div class="justify-content-between">
    <div class="justify-content-start d-flex">
      <button kendoButton class="k-danger-link" aria-label="Remove"> Remove </button>
      <button kendoButton look="outline" [primary]="true" aria-label="deactivate phone"> Edit </button>
    </div>
    <div class="justify-content-end">
      <button kendoButton [primary]="true" look="outline" aria-label="cancel adding phone detail"> Cancel
      </button>
      <button kendoButton [primary]="true" aria-label="update or add phone detail" (click)="save()"> Save </button>
    </div>
  </div>
</kendo-dialog-actions>
