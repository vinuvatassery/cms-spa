<div [formGroup]="appInfoForm">
  <section>
    <h5 class="mt-3 mb-0">
      Which option describes their Ethnic Identity?
    </h5>
    <div class="flex-row">
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel
          text="Ethnic Identity"
          class="k-multiselect-wrapper"
        >
        

          <kendo-dropdownlist
          aria-label="Ethnic Identity"
            formControlName="Ethnicity"
            [fillMode]="formUiStyle.dropDownFillMode"
            [data]="ethnicityData"
            [textField]="'lovDesc'"
            [valueField]="'lovCode'"
          >
            <ng-template kendoMultiSelectItemTemplate let-dataItem>
              <span class="app-checkboxwidtext-wrapper">
                <label class="k-checkbox-label" [for]="dataItem.lovDesc">{{
                  dataItem.lovDesc
                }}</label>

              </span>
            </ng-template>
          </kendo-dropdownlist>
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['Ethnicity'].valid">Ethnic Identity is required.</kendo-formerror>
      </div>
    </div>
  </section>
    <section>
      <h5 class="mt-3 mb-0">
        Which options describe their Racial Identity? (Select all that apply)
      </h5>
      <div class="flex-row">
        <div class="flex-col flex-col-4">
          <kendo-floatinglabel
            text="Racial Identity"
            class="k-multiselect-wrapper"
          >
            <span
              unselectable="on"
              class="k-button-icon k-icon k-i-arrow-s multi-dropdown-icon"
              aria-label="dropdown arrow"
              aria-hidden="true"
              (click)="racialidentity.toggle()"
            ></span>

            <kendo-multiselect
              aria-label="Racial Identity"
              [checkboxes]="{ checkOnClick: true, enabled: true }"
              formControlName="RaceAndEthnicity"
              #racialidentity
              [autoClose]="false"
              [fillMode]="formUiStyle.dropDownFillMode"
              [data]="raceAndEthnicityData"
              [textField]="'lovDesc'"
              [valueField]="'lovCode'"
              (valueChange)="RaceAndEthnicityhange($event)"
              [kendoMultiSelectSummaryTag]="3"
              [popupSettings]="{
                popupClass: popupClassMultiSelect,
                animate: true
              }"
            >
              <ng-template kendoMultiSelectItemTemplate let-dataItem>
                <span class="app-checkboxwidtext-wrapper">
                  <input
                    type="checkbox"
                    kendoCheckBox
                    attr.aria-labelledby="{{dataItem.lovDesc}}"
                    [id]="dataItem.lovDesc"
                    [checked]="getCheckedItems(dataItem)"
                  />
                  <span class="k-checkbox-label" attr.aria-label="{{dataItem.lovDesc}}">{{
                    dataItem.lovDesc
                  }}</span>
                </span>
              </ng-template>
            </kendo-multiselect>
          </kendo-floatinglabel>
          <kendo-formerror *ngIf="!appInfoForm.controls['RaceAndEthnicity'].valid">Racial Identity is required.</kendo-formerror>
        </div>
      </div>
    </section>
    <section *ngIf="raceAndEthnicityPrimaryNotListed">
      <div class="flex-row">
        <div class="flex-col flex-col-4">
          <kendo-floatinglabel text="Enter Other Racial Identity">
            <kendo-textbox
              aria-label="Racial or Ethnic Identity"
              formControlName="RaceAndEthnicityNotListed"
              [fillMode]="formUiStyle.inputFillMode"
              placeholder="Enter Other Racial Identity"
              [maxlength]="50"
            >
            </kendo-textbox>
          </kendo-floatinglabel>
          <kendo-formerror *ngIf="!appInfoForm.controls['RaceAndEthnicityNotListed'].valid"
            >Racial Identity is required.</kendo-formerror>
        </div>
      </div>
    </section>
    <section>
      <h5 class="mb-0">
        If they selected multiple, is there one they think of as their primary
        racial Identity?
      </h5>
      <div class="flex-row">
        <div class="flex-col flex-col-4">
          <kendo-floatinglabel text="Primary Identity" for="RaceAndEthnicityPrimary">
            <kendo-dropdownlist
              aria-label="RaceAndEthnicityPrimary"
              [fillMode]="formUiStyle.dropDownFillMode"
              [data]="raceAndEthnicityPrimaryData"
              formControlName="RaceAndEthnicityPrimary"
              textField="lovDesc"
              valueField="lovCode"
              id="RaceAndEthnicityPrimary"
            >
              <ng-template kendoDropDownListItemTemplate let-dataItem>
                {{ dataItem.lovDesc }}
              </ng-template>
            </kendo-dropdownlist>
          </kendo-floatinglabel>
          <kendo-formerror *ngIf="!appInfoForm.controls['RaceAndEthnicityPrimary'].valid && !this.appInfoForm.controls['RaceAndEthnicityPrimary'].disabled">Primary Identity is required.</kendo-formerror>
        </div>
      </div>
    </section>


  </div>
