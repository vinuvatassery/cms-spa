<div [formGroup]="appInfoForm">
  <section>
    <h5 class="mt-3 mb-0">
      Which option describes their Ethnic Identity?
    </h5>
    <div class="flex-row">
      <div class="flex-col">
        <kendo-floatinglabel
          text="Ethnic Identity"
          class="k-multiselect-wrapper"
        >
          <span
            unselectable="on"
            class="k-button-icon k-icon k-i-arrow-s multi-dropdown-icon"
            aria-label="dropdown arrow"
            aria-hidden="true"
          ></span>

          <kendo-multiselect
          aria-label="Ethnic Identities"
            [checkboxes]="{ checkOnClick: true, enabled: true }"
            formControlName="Ethnicity"
            #multiselect
            [fillMode]="formUiStyle.dropDownFillMode"
            [autoClose]="false"
            [data]="ethnicityData"
            [textField]="'lovDesc'"
            [valueField]="'lovCode'"
            (valueChange)="RaceAndEthnicityhange($event)"
            [popupSettings]="{
              popupClass: popupClassMultiSelect,
              animate: true
            }"
          >
            <!-- <ng-template kendoMultiSelectHeaderTemplate let-dataItem>
              <div class="input-search">
                <span
                  class="material-icons"
                  aria-label="search racial identity"
                  aria-hidden="true"
                  >search</span
                >
                <kendo-floatinglabel text="Search">
                  <kendo-textbox
                    aria-label="search racial identity"
                    [fillMode]="formUiStyle.inputFillMode"
                  >
                  </kendo-textbox>
                </kendo-floatinglabel>
              </div>
            </ng-template> -->
            <ng-template kendoMultiSelectItemTemplate let-dataItem>
              <span class="app-checkboxwidtext-wrapper">
                <label class="k-checkbox-label" [for]="dataItem.lovDesc">{{
                  dataItem.lovDesc
                }}</label>
               
              </span>
            </ng-template>
          </kendo-multiselect>
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['Ethnicity'].valid">Ethnic Identity is required.</kendo-formerror>
      </div>
    </div>
  </section>
    <section>
      <h5 class="mt-3 mb-0">
        Which options describe their Racial Identity? (Select all that apply)
      </h5>
      <div class="flex-row">
        <div class="flex-col">
          <kendo-floatinglabel
            text="Racial Identities"
            class="k-multiselect-wrapper"
          >
            <span
              unselectable="on"
              class="k-button-icon k-icon k-i-arrow-s multi-dropdown-icon"
              aria-label="dropdown arrow"
              aria-hidden="true"
            ></span>
  
            <kendo-multiselect
              aria-label="Racial Identities"
              [checkboxes]="{ checkOnClick: true, enabled: true }"
              formControlName="RaceAndEthnicity"
              #multiselect
              [autoClose]="false"
              [fillMode]="formUiStyle.dropDownFillMode"
              [data]="raceAndEthnicityData"
              [textField]="'lovDesc'"
              [valueField]="'lovCode'"
              (valueChange)="RaceAndEthnicityhange($event)"
              [popupSettings]="{
                popupClass: popupClassMultiSelect,
                animate: true
              }"
            >
              <ng-template kendoMultiSelectHeaderTemplate let-dataItem>
                <div class="input-search">
                  <span
                    class="material-icons"
                    aria-label="search racial identity"
                    aria-hidden="true"
                    >search</span
                  >
                  <kendo-floatinglabel text="Search">
                    <!-- <input kendoTextBox aria-label="search racial identity" /> -->
                    <kendo-textbox
                      aria-label="search racial identity"
                      [fillMode]="formUiStyle.inputFillMode"
                    >
                    </kendo-textbox>
                  </kendo-floatinglabel>
                </div>
              </ng-template>
              <ng-template kendoMultiSelectItemTemplate let-dataItem>
                <span class="app-checkboxwidtext-wrapper">
                  <input
                    type="checkbox"
                    kendoCheckBox
                    attr.aria-labelledby="{{dataItem.lovDesc}}" 
                    [id]="dataItem.lovDesc"
                  />
                  <label class="k-checkbox-label" [for]="dataItem.lovDesc">{{
                    dataItem.lovDesc
                  }}</label>
                </span>
              </ng-template>
            </kendo-multiselect>
          </kendo-floatinglabel>
          <kendo-formerror *ngIf="!appInfoForm.controls['RaceAndEthnicity'].valid">Racial Identity is required.</kendo-formerror>
        </div>
      </div>
    </section>
    <section *ngIf="raceAndEthnicityPrimaryNotListed">
      <div class="flex-row">
        <div class="flex-col flex-col-4">
          <kendo-floatinglabel text="Racial or Ethnic Identity if Not listed, please specify">
            <kendo-textbox
              aria-label="Racial or Ethnic Identity"
              formControlName="RaceAndEthnicityNotListed"
              [fillMode]="formUiStyle.inputFillMode"
              
            >
            </kendo-textbox>
          </kendo-floatinglabel>
          <kendo-formerror *ngIf="!appInfoForm.controls['RaceAndEthnicityNotListed'].valid"
            >Racial or Ethnic Identity is required.</kendo-formerror>
        </div>
      </div>
    </section>
    <section>
      <h5 class="mb-0">
        If they selected multiple, is there one they think of as their primary
        racial or ethnic identity?
      </h5>
      <div class="flex-row">
        <div class="flex-col flex-col-4">
          <kendo-floatinglabel text="Primary identity">
            <kendo-dropdownlist
              aria-label="RaceAndEthnicityPrimary"
              [fillMode]="formUiStyle.dropDownFillMode"
              [data]="raceAndEthnicityPrimaryData"
              formControlName="RaceAndEthnicityPrimary"
              textField="lovDesc"
              valueField="lovCode"
            >
              <ng-template kendoDropDownListItemTemplate let-dataItem>
                {{ dataItem.lovDesc }}
              </ng-template>
            </kendo-dropdownlist>
          </kendo-floatinglabel>
          <kendo-formerror *ngIf="!appInfoForm.controls['RaceAndEthnicityPrimary'].valid && !this.appInfoForm.controls['RaceAndEthnicityPrimary'].disabled">Primary Identity is required.</kendo-formerror>
        </div>
      </div>
    </section>

    
  </div>
  