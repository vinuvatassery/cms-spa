<form [formGroup]="appInfoForm" *ngIf="appInfoForm">
  <section kendoRippleContainer>
    <div class="flex-row" >
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Enter First Name" class="k-form">
          <!-- <input kendoTextBox aria-label="enter first name" /> -->
          <kendo-textbox  aria-label="enter first name"  
            showErrorIcon="initial"
            formControlName="firstName"  
            [maxlength]="lengthRestrictForty"
            [fillMode]="formUiStyle.inputFillMode">         
        </kendo-textbox>
        
        <!-- <kendo-formhint>Please, enter your email.</kendo-formhint> -->
        <kendo-formerror *ngIf="!appInfoForm.controls['firstName'].valid">First Name is required.</kendo-formerror>
     
        </kendo-floatinglabel>
      </div>
        <!-- [disabled]="isMiddleNameChecked" -->
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Middle Initial (Optional)">
          <kendo-textbox   aria-label="middle initial" 
              [fillMode]="formUiStyle.inputFillMode" 
              formControlName="middleName"
              [maxlength]="lengthRestrictThirty"           
              >
          </kendo-textbox>
        
          <kendo-formerror *ngIf="!appInfoForm.controls['middleName'].valid && !this.appInfoForm.controls['middleName'].disabled">Middle Initial/Checkbox is required.</kendo-formerror>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col flex-col-4 mt-3">
        <span class="app-checkboxwidtext-wrapper">
        <input
          class="adjust-attr"
          type="checkbox"
          aria-labelledby="middleInitial"
          id="middleInitial"
          name="chkmiddleName"
          formControlName="chkmiddleName"
          kendoCheckBox     
          (change)="onMiddleNameChecked($event)"    
        />
        <label class="k-checkbox-label" for="middleInitial">No Middle Initial</label>
        </span>
        
      </div>
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Last Name">
          <kendo-textbox aria-label="last name" 
              [fillMode]="formUiStyle.inputFillMode" 
              formControlName="lastName"
              [maxlength]="lengthRestrictForty">
          </kendo-textbox>
          <kendo-formerror *ngIf="!appInfoForm.controls['lastName'].valid">Last Name is required.</kendo-formerror>
          <!-- <input kendoTextBox [fillMode]="fillMode" aria-label="last name" /> -->
        </kendo-floatinglabel>
      </div>
    </div>
   <!-- [disabled]="isInsuranceCardChecked" -->
    <div class="flex-row">
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="First Name on Primary Insurance Card">
          <kendo-textbox aria-label="first name on primary insurance card"  
              [fillMode]="formUiStyle.inputFillMode"
              formControlName="prmInsFirstName"
              [maxlength]="lengthRestrictForty"
              >
          </kendo-textbox>
        
          <kendo-formerror *ngIf="!appInfoForm.controls['prmInsFirstName'].valid && !this.appInfoForm.controls['prmInsFirstName'].disabled">First Name on Primary Insurance Card/Checkbox is required.</kendo-formerror>
        </kendo-floatinglabel>
      </div>
      <!-- [disabled]="isInsuranceCardChecked" -->
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Last Name on Primary Insurance Card">
          <kendo-textbox aria-label="last name on primary insurance card"  
              [fillMode]="formUiStyle.inputFillMode" 
              formControlName="prmInsLastName"
              [maxlength]="lengthRestrictForty"
              >   
          </kendo-textbox>
        
          <kendo-formerror *ngIf="!appInfoForm.controls['prmInsLastName'].valid && !this.appInfoForm.controls['prmInsLastName'].disabled" >Last Name on Primary Insurance Card/Checkbox is required.</kendo-formerror>
        </kendo-floatinglabel>
      </div>
      <div class="flex-col flex-col-4 mt-3">
        <span class="app-checkboxwidtext-wrapper">
        <input
          type="checkbox"
          class="adjust-attr"
          name="prmInsNotApplicable"
          id="cardNotApplicable"
          aria-labelledby="insuranceCardNotApplicable"
          kendoCheckBox
          formControlName="prmInsNotApplicable"
          (change)="onInsuranceCardChecked($event)"
        />
        <label class="k-checkbox-label" for="cardNotApplicable"
          >Not Applicable</label
        >
        </span>
      </div>
    </div>
    <div class="flex-row">
      <!-- [disabled]="isOfficialIdChecked" -->
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="First Name on Official ID">
          <kendo-textbox aria-label="first name on official id"  
            [fillMode]="formUiStyle.inputFillMode" 
            formControlName="officialIdFirstName"
            [maxlength]="lengthRestrictForty"
            >   
          </kendo-textbox>
      
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['officialIdFirstName'].valid && !this.appInfoForm.controls['officialIdFirstName'].disabled">First Name on Official ID/Checkbox is required.</kendo-formerror>
      </div>
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Last Name on Official ID">
          <!-- [disabled]="isOfficialIdChecked" -->
          <kendo-textbox aria-label="last name on official id"  
            [fillMode]="formUiStyle.inputFillMode" 
            formControlName="officialIdLastName"
            [maxlength]="lengthRestrictForty"
            >   
          </kendo-textbox>
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['officialIdLastName'].valid  && !this.appInfoForm.controls['officialIdLastName'].disabled">Last Name on Official ID/Checkbox is required.</kendo-formerror>
      </div>
      <div class="flex-col flex-col-4 mt-3">
         <!-- (change)="onOfficialIdChecked($event)" -->
        <span class="app-checkboxwidtext-wrapper">
        <input
          type="checkbox"
          class="adjust-attr"
          id="idNotApplicable"
          name="officialIdsNotApplicable"
          aria-labelledby="officialIdNotApplicable"
          kendoCheckBox       
          formControlName="officialIdsNotApplicable"
         
        />
        <label class="k-checkbox-label" for="idNotApplicable"
          >Not Applicable</label
        >
        </span>
      </div>
    </div>
    <div class="flex-row">
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Date of Birth">
          <kendo-datepicker  
          [fillMode]="formUiStyle.dateInputFillMode"
          [max]="currentDate"
          formControlName="dateOfBirth"
          format="MM-dd-yyyy"
          
          ></kendo-datepicker>
      
        </kendo-floatinglabel>
      </div>
    </div>
   
    <div class="flex-row">
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Social Security Number">
          <kendo-textbox aria-label="social security number"  
            [fillMode]="formUiStyle.inputFillMode" 
            formControlName="ssn"
            [maxlength]="maxLengthSsn"
            [value]="appInfoForm.controls['ssn'].value | ssn"
            >   </kendo-textbox>
  
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['ssn'].valid && !this.appInfoForm.controls['ssn'].disabled">Social Security Number/Checkbox is required.</kendo-formerror>
      </div>
      <div class="flex-col flex-col-4 mt-3">
        <span class="app-checkboxwidtext-wrapper">
        <input
          type="checkbox"
          class="adjust-attr"
          id="ssnNotApplicable"
          name="ssnNotApplicable"       
          aria-labelledby="ssnNotApplicable"
          kendoCheckBox
          formControlName="ssnNotApplicable"
          (change)="onSsnNotApplicableChecked($event)"
        />
        <label class="k-checkbox-label" for="ssnNotApplicable"
          >Not Applicable</label 
        >
      </span>
      </div>
    </div>
  
  </section>
   
  <section class="mb-3">
    <h5>Register to vote ?</h5>
    <div class="flex-row gap-m">
      <div class="flex-col">
        <div class="component-list-h">
          <span class="app-radiobtnwidtext-wrapper">
            <input
              type="radio"
              kendoRadioButton
              name="registerToVote"
              value="Y"
              aria-labelledby="registerToVoteYes"
              id="register"
              tabindex="1"
              formControlName="registerToVote"  
              (change)="registerToVoteSelected($event)"          
            />
            <kendo-label class="k-radio-label" text="Yes"></kendo-label>
          </span>
          <span class="app-radiobtnwidtext-wrapper">
            <input
              type="radio"
              kendoRadioButton
              value="N"
              name="registerToVote"
              aria-labelledby="registerToVoteNo"
              id="register1"
              tabindex="2"
              formControlName="registerToVote"
              (change)="registerToVoteSelected($event)"   
            />
            <kendo-label
              class="k-radio-label"
              text="No"
              for="register1"
            ></kendo-label>
            <kendo-formerror *ngIf="!appInfoForm.controls['registerToVote'].valid">Register To Vote is required.</kendo-formerror>
          </span>
          <div class="voterreg-info d-flex" *ngIf="isVisible">
            <span class="material-icons" aria-label="info" aria-hidden="true">info</span><p>This application will  send voter registeration collaterial via letter or email once the applicaiton is saved  with the necessary contact information</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div></div>
  <section  >
    <h5>What pronouns do they use? (check all that apply)</h5>
    <div class="component-list-h"  >
      
      <case-management-client-edit-view-pronoun 
              [appInfoForm]="appInfoForm"
              (PronounChanges)="setChangedPronoun($event)"
              [checkBoxValid] ="checkBoxValid"
              [textboxDisable]="textboxDisable">
      </case-management-client-edit-view-pronoun>  
      <hr />
  
      <!-- <common-checkbox-list>
  
      </common-checkbox-list> -->   
      
    </div>  
  </section>
  
  
  <case-management-client-edit-view-gender [appInfoForm]="appInfoForm"></case-management-client-edit-view-gender>
  
  <case-management-client-edit-view-transgender [appInfoForm]="appInfoForm"></case-management-client-edit-view-transgender>
  
  <case-management-client-edit-view-sexual-identity [appInfoForm]="appInfoForm"></case-management-client-edit-view-sexual-identity>
  
  <case-management-client-edit-view-sex-at-birth [appInfoForm]="appInfoForm"></case-management-client-edit-view-sex-at-birth>
  
  <case-management-client-edit-view-race-and-ethnicity [appInfoForm]="appInfoForm" (RaceAndEthnicityData)="setRaceAndEthnicityData($event)"></case-management-client-edit-view-race-and-ethnicity>
  <section>
    <h5 class="mt-3 mb-0">
      Which options describe their Racial or Ethnic Identity? (Select all that
      apply)
    </h5>
    <div class="flex-row">
      <div class="flex-col">
        <kendo-floatinglabel
          text="Racial or Ethnic Identities"
          class="k-multiselect-wrapper"
        >
        <span unselectable="on" class="k-button-icon k-icon k-i-arrow-s multi-dropdown-icon"   aria-label="dropdown arrow"
        aria-hidden="true"></span>
       
          <kendo-multiselect
          [checkboxes]="{ checkOnClick: true, enabled: true }"
         
       
            #multiselect 
            (close)="onClose($event)"
            [fillMode]="formUiStyle.dropDownFillMode"
            [data]="racialIdentityOptions"
            [textField]="'racialName'"
            [valueField]="'racialName'"
            [popupSettings]="{ popupClass: popupClassMultiSelect, animate: true }"
          >
            <ng-template kendoMultiSelectHeaderTemplate let-dataItem>
              <div class="input-search">
                <span
                  class="material-icons"
                  aria-label="search racial identity"
                  aria-hidden="true"
                  >search</span
                >
                <kendo-floatinglabel text="Search">
                  <!-- <input kendoTextBox aria-label="search racial identity" /> -->
                    <kendo-textbox aria-label="search racial identity" [fillMode]="formUiStyle.inputFillMode">   </kendo-textbox>
  
                </kendo-floatinglabel>
              </div>
            </ng-template>
            <ng-template kendoMultiSelectItemTemplate let-dataItem>
              <span class="app-checkboxwidtext-wrapper">
              <input
                type="checkbox"
                kendoCheckBox
                aria-labelledby="racialName"
                [id]="dataItem.racialName"
              />
              <label class="k-checkbox-label" [for]="dataItem.racialName" >{{  dataItem.racialName   }}</label>
              </span>
            </ng-template> 
          </kendo-multiselect>
        </kendo-floatinglabel>
        
      </div>
    </div>
  </section>
  <section>
    <h5 class="mb-0">
      If they selected multiple, is there one they think of as their primary
      racial or ethnic identity?
    </h5>
    <div class="flex-row">
      <div class="flex-col flex-col-4">
        <kendo-floatinglabel text="Primary identity">
          <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" [data]="ddlPrimaryIdentities$ | async">
          </kendo-dropdownlist>
        </kendo-floatinglabel>
      </div>
    </div>
  </section>
  <section>
    <h5>
      Needs materials in alternate format (Braille, large print, audio recordings,
      etc.)?
    </h5>
    <div class="component-list-h">
  
  
      <common-optionbutton-list
            [appInfoForm]="appInfoForm"
            [rdoInputlov]="rdoMaterials$"
            [dropdownInutLov]="materialsyeslov$"
            [optionButtonValid]="materialOptionButtonValid"
            [textFieldDisable] ="yesMaterialDisable"
            [OptionControlerName] ="'materialInAlternateFormatCode'"
            [textControlerName]="'materialInAlternateFormatDesc'"
            [textFieldType]="'dropDown'"
            [textFieldAfter]="'YES'"
            [textPlaceholderText]="'Select formats'"
            [textValidationMessage]="'Material is required.'">    
      </common-optionbutton-list>   
    </div>
  
    <div class="flex-row">
      <div class="flex-col flex-col-4">   
        <kendo-floatinglabel text="Spoken language">
          <kendo-dropdownlist  [fillMode]="formUiStyle.dropDownFillMode"
           [data]="spokenWrittenLanguagelov$ | async"
            textField="lovDesc" valueField="lovCode" [valuePrimitive]="true"
            formControlName="spokenLanguage">
        </kendo-dropdownlist>  
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['spokenLanguage'].valid">Spoken language is required.</kendo-formerror>
      </div>
    </div>
    <div class="flex-row">
      <div class="flex-col flex-col-4">    
        <kendo-floatinglabel text="Written language">
          <kendo-dropdownlist  [fillMode]="formUiStyle.dropDownFillMode"
           [data]="spokenWrittenLanguagelov$ | async"
          textField="lovDesc" valueField="lovCode" [valuePrimitive]="true"
          formControlName="writtenLanguage">
        </kendo-dropdownlist>  
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['writtenLanguage'].valid">Written language is required.</kendo-formerror>
      </div>
    </div>
    <div class="flex-row">
      <div class="flex-col flex-col-4">    
        <kendo-floatinglabel text="English proficiency">
          <kendo-dropdownlist  [fillMode]="formUiStyle.dropDownFillMode"
           [data]="englishProficiencylov$ | async"
          textField="lovDesc" valueField="lovCode" [valuePrimitive]="true"
          formControlName="englishProficiency">
        </kendo-dropdownlist>  
        </kendo-floatinglabel>
        <kendo-formerror *ngIf="!appInfoForm.controls['englishProficiency'].valid">English proficiency is required.</kendo-formerror>
      </div>
    </div>
  </section>
  
  
  <section>
  
    <h5>Needs interpreter?</h5>
    <common-optionbutton-list
          [appInfoForm]="appInfoForm"
          [rdoInputlov]="rdoMaterials$"
          [optionButtonValid]="interpreterOptionButtonValid"
          [textFieldDisable] ="interpreterTypeInputDisable"
          [OptionControlerName] ="'interpreterCode'"
          [textControlerName]="'interpreterType'"
          [textFieldType]="'textField'"
          [textFieldAfter]="'YES'"
          [textPlaceholderText]="'Type of interpreter'"
          [textValidationMessage]="'Type is required.'"
          [textFieldMaxLimit]="50">
    </common-optionbutton-list>
  </section>
  <section>
    <h5 class="mt-3">Deaf or serious difficulty hearing?</h5>
      <common-optionbutton-list
            [appInfoForm]="appInfoForm"
            [rdoInputlov]="rdoMaterials$"
            [optionButtonValid]="deafOrHearingOptionButtonValid"
            [textFieldDisable] ="startAgeDeafOrHearingInputDisable"
            [OptionControlerName] ="'deafOrHearingCode'"
            [textControlerName]="'startAgeDeafOrHearing'"
            [textFieldType]="'numericField'"
            [textFieldAfter]="'YES'"
            [textPlaceholderText]="'Age this condition began'"
            [textValidationMessage]="'Age is required.'"
            [textFieldMaxLimit]="9999">
      </common-optionbutton-list> 
  </section>
  <section>
    <h5 class="mt-3">
      Blind or serious difficulty seeing, even when wearing glasses?
    </h5>
    <common-optionbutton-list
        [appInfoForm]="appInfoForm"
        [rdoInputlov]="rdoMaterials$"
        [optionButtonValid]="blindOrSeriousDiffOptionButtonValid"
        [textFieldDisable] ="startAgeBlindSeeingInputDisable"
        [OptionControlerName] ="'blindSeeingCode'"
        [textControlerName]="'startAgeBlindSeeing'"
        [textFieldType]="'numericField'"
        [textFieldAfter]="'YES'"
        [textPlaceholderText]="'Age this condition began'"
        [textValidationMessage]="'Age is required.'"
        [textFieldMaxLimit]="9999">
    </common-optionbutton-list>    
  </section>
  <section>
    <h5 class="mt-3">Any limiting physical, mental, or emotional conditions?</h5>
    <common-optionbutton-list
        [appInfoForm]="appInfoForm"
        [rdoInputlov]="rdoMaterials$"
        [optionButtonValid]="physicalMentaDiffOptionButtonValid"
        [OptionControlerName] ="'limitingConditionCode'">
    </common-optionbutton-list>  
  </section>
  <section>
    <h5 class="mt-3">Serious difficulty walking or climbing stairs?</h5>
    <common-optionbutton-list
        [appInfoForm]="appInfoForm"
        [rdoInputlov]="rdoMaterials$"
        [optionButtonValid]="walkingOrClimbingOptionButtonValid"
        [textFieldDisable] ="startAgeWalkingClimbingDifficultyInputDisable"
        [OptionControlerName] ="'walkingClimbingDifficultyCode'"
        [textControlerName]="'startAgeWalkingClimbingDifficulty'"
        [textFieldType]="'numericField'"
        [textFieldAfter]="'YES'"
        [textPlaceholderText]="'Age this condition began'"
        [textValidationMessage]="'Age is required.'"
        [textFieldMaxLimit]="9999">
    </common-optionbutton-list>   
  </section>
  <section>
    <h5 class="mt-3">Difficulty dressing or bathing?</h5>
    <common-optionbutton-list
        [appInfoForm]="appInfoForm"
        [rdoInputlov]="rdoMaterials$"
        [optionButtonValid]="dressingOrBathOptionButtonValid"
        [textFieldDisable] ="startAgeDressingBathingDifficultyInputDisable"
        [OptionControlerName] ="'dressingBathingDifficultyCode'"
        [textControlerName]="'startAgeDressingBathingDifficulty'"
        [textFieldType]="'numericField'"
        [textFieldAfter]="'YES'"
        [textPlaceholderText]="'Age this condition began'"
        [textValidationMessage]="'Age is required.'"
        [textFieldMaxLimit]="9999">
    </common-optionbutton-list>  
  
  </section>
  <section>
    <h5 class="mt-3">
      Serious difficulty concentrating, remembering, or making decisions due to a
      physical, mental, or emotional condition?
    </h5>
    <common-optionbutton-list
        [appInfoForm]="appInfoForm"
        [rdoInputlov]="rdoMaterials$"
        [optionButtonValid]="concentrateAndRememberDiffOptionButtonValid"
        [textFieldDisable] ="startAgeConcentratingDifficultyInputDisable"
        [OptionControlerName] ="'concentratingDifficultyCode'"
        [textControlerName]="'startAgeConcentratingDifficulty'"
        [textFieldType]="'numericField'"
        [textFieldAfter]="'YES'"
        [textPlaceholderText]="'Age this condition began'"
        [textValidationMessage]="'Age is required.'"
        [textFieldMaxLimit]="9999">
    </common-optionbutton-list>
  </section>
  <section>
    <h5 class="mt-3">
      Serious difficulty doing errands alone due to a physical, mental, or
      emotional condition?
    </h5>
    <common-optionbutton-list
        [appInfoForm]="appInfoForm"
        [rdoInputlov]="rdoMaterials$"
        [optionButtonValid]="seriesDiffOptionButtonValid"
        [textFieldDisable] ="startAgeErrandsDifficultyInputDisable"
        [OptionControlerName] ="'errandsDifficultyCode'"
        [textControlerName]="'startAgeErrandsDifficulty'"
        [textFieldType]="'numericField'"
        [textFieldAfter]="'YES'"
        [textPlaceholderText]="'Age this condition began'"
        [textValidationMessage]="'Age is required.'"
        [textFieldMaxLimit]="9999">
    </common-optionbutton-list>
  
  </section>
  
  
  </form>