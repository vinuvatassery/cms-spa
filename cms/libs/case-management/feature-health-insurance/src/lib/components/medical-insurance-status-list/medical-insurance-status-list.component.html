<div class="flex-row">
  <div class="flex-col flex-space-bw align-items-center">
    <h2 class="title-md mb-0 text-bold">Insurance Status</h2> 
    <div>
      <span class="app-checkboxwidtext-wrapper">
        <input
          type="checkbox"
          kendoCheckBox
          aria-labelledby="StatusshowHistorical"
          id="StatusshowHistorical"
        />
        <label class="k-checkbox-label" for="StatusshowHistorical"
          >Show historical</label
        >
      </span>
    </div>

  </div>
  <div class="flex-col mt-1">
    <div class="app-c-table">
      <kendo-grid  [pageSize]="5" [pageable]="true"  [data]="healthInsuranceStatus$ | async">
        <kendo-grid-column field="type" title="Type" [width]="150">
        </kendo-grid-column>
        <kendo-grid-column field="planName" title="Plan Name" [width]="150">
          <ng-template kendoGridCellTemplate let-dataItem>
            <button
              kendoButton
              class="card-link-button"
              aria-label="medical insurance plan name"
            >
              {{ dataItem.planName }}
            </button>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column field="priority" title="Priority" [width]="100">
        </kendo-grid-column>
        <kendo-grid-column
          field="insuranceID"
          title="Insurance ID#"
          [width]="120"
        >
        </kendo-grid-column>
        <kendo-grid-column field="vendor" title="Vendor" [width]="120">
          <ng-template kendoGridCellTemplate let-dataItem>
            <button
              kendoButton
              class="card-link-button"
              aria-label="medical insurance vendor"
            >
              {{ dataItem.vendor }}
            </button>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column
          field="insuranceCarrier"
          title="Insurance Carrier"
          [width]="150"
        >
          <ng-template kendoGridCellTemplate let-dataItem>
            <button
              kendoButton
              class="card-link-button"
              aria-label="insurance carrier"
            >
              {{ dataItem.insuranceCarrier }}
            </button>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column field="startDate" title="Start Date" [width]="130">
        </kendo-grid-column>
        <kendo-grid-column field="endDate" title="End Date" [width]="130">
        </kendo-grid-column>
        <kendo-grid-column field="helpPay" title="Help Pay?" [width]="150">
        </kendo-grid-column>
        <kendo-grid-column
          field="otherPeople"
          title="Other People On Plan"
          [width]="150"
        >
          <ng-template kendoGridCellTemplate let-dataItem>
            <button
              kendoButton
              class="card-link-button"
              aria-label="other people"
            >
              {{ dataItem.otherPeople }}
            </button>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column
          field="premiumAmount"
          title="Premium Amount"
          [width]="100"
        >
        </kendo-grid-column>
        <kendo-grid-column
          field="premiumFrequency"
          title="Premium Frequency"
          [width]="150"
        >
        </kendo-grid-column>
        <kendo-grid-column field="paymentID" title="Payment ID" [width]="130">
        </kendo-grid-column>
        <kendo-grid-column
          field="policyHolder"
          title="Policy Holder"
          [width]="100"
        >
        </kendo-grid-column>
        <kendo-grid-column field="aptc" title="APTC?" [width]="100">
        </kendo-grid-column>
        <kendo-grid-column
          field="monthlyAptc"
          title="Monthly APTC Amount"
          [width]="150"
        >
        </kendo-grid-column>
        <kendo-grid-column field="by" title="By" [width]="50">
          <ng-template kendoGridCellTemplate let-dataItem>
            <button
              kendoButton
              [primary]="true"
              class="avatar-sm-btn c-default"
              kendoPopoverAnchor
              [popover]="onUserProfileDetailsHovered"
              showOn="hover"
              aria-label="profile avatar for Arjun Kumar"
            >
              <div mat-card-avatar="" class="app-c-avatar avatar-sm">
                <span class="profile-text-avatar">AK</span>
              </div>
            </button>
            <kendo-popover
              #onUserProfileDetailsHovered
              width="330"
              position="left"
            >
              <ng-template kendoPopoverBodyTemplate>
                <common-user-profile-card></common-user-profile-card>
              </ng-template>
            </kendo-popover>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column
          field="Option"
          title="Options"
          [width]="75"
          class="text-center"
        >
          <ng-template kendoGridCellTemplate let-dataItem>
            <kendo-dropdownbutton
            icon="more-vertical"
              [data]="gridOptionData"
              title="More option"
              class="TableActionPopup app-dropdown-action"
              buttonClass="k-icon-button"
              aria-label="more actions"
              [popupSettings]="{ popupClass: popupClassAction, animate: true }"
            >
             
              <ng-template class="app-dropdown-action-list" kendoDropDownButtonItemTemplate let-dataItem>
                <button kendoButton  look="flat" [attr.aria-label]="dataItem.text" [class]="dataItem.buttonType" aria-hidden="false" (click)="dataItem.click">
                  <span class="material-icons" [attr.aria-label]="dataItem.text" >{{dataItem.icon}}</span>
                  <label>   {{ dataItem.text }} </label>
              </button>

              
              </ng-template>
            </kendo-dropdownbutton>
          </ng-template>
        </kendo-grid-column>

        <ng-template kendoPagerTemplate let-totalPages="totalPages" let-pagerFirstPage="pagerFirstPage"
        let-currentPage="currentPage">
        <div class="grid-custom-paginationtemplates d-flex"> 
          <div class="d-flex align-items-center"> 
            <label class="mr-1" for="RowsPerPage">Rows Per Page</label> 
            <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" [data]="pageSizes" [textField]="'text'" [valueField]="'value'"
              [valuePrimitive]="true" [(value)]="pageSize" aria-label="Rows Per Page" id="RowsPerPage" ></kendo-dropdownlist>
            <kendo-pager-info> </kendo-pager-info>
            <kendo-grid-messages [pagerItems]="' '" [pagerPage]="'Page'"> </kendo-grid-messages>
  
          </div>
          <div class="d-flex"> 
            <kendo-pager-input></kendo-pager-input> 
            <kendo-pager-prev-buttons></kendo-pager-prev-buttons> 
            <kendo-pager-next-buttons></kendo-pager-next-buttons>
          </div> 
        </div>
      </ng-template>
  
       <ng-template kendoGridLoadingTemplate>
         <common-grid-loader-component></common-grid-loader-component>
        </ng-template>
  
  
        <ng-template kendoGridNoRecordsTemplate>
          <div> <kendo-badge-container>   <span class="material-icons">    info   </span>    </kendo-badge-container>
          </div>
          <p>There is no data to display.</p>
        </ng-template>
      </kendo-grid>
    </div>
  </div>
  <div class="flex-col mt-1">
    <button
      kendoButton
      [primary]="true"
      icon="add"
      aria-label="add medical status"
    >
      Dental Insurance
    </button>
  </div>
</div>


<!-- Copy insurance confirmation modal -->
<kendo-dialog *ngIf="isCopyInsuranceConfirm" (close)="onCopyInsuranceConfirmCloseClicked()"
  class="app-c-modal app-c-modal-sm app-c-modal-np">
  <kendo-dialog-titlebar> Copy Insurance? </kendo-dialog-titlebar>
  <section class="k-dialog-body mb-2">
    <p>
    Are you sure you want to duplicate this insurance record
    </p>
  </section>
  <kendo-dialog-actions>
    <div class="justify-content-between">
      <div class="justify-content-end">
        <button kendoButton [primary]="true" look="outline" aria-label="cancel copy insurance"  >
          Cancel
        </button>
        <button kendoButton [primary]="true" aria-label="copy insurance "> Copy </button>
      </div>
    </div>
  </kendo-dialog-actions>
</kendo-dialog>