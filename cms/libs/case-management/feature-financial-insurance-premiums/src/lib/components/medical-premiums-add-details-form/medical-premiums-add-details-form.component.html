
<kendo-dialog-titlebar (close)="closeAddPremiumClicked()"> Add Premium</kendo-dialog-titlebar>


<section class="k-dialog-body">
      <p class="text-muted mb-1">  Search for a client to add their premium payment(s). If a client has multiple insurance plans, select which ones to add. </p>

      
      <div class="flex-row">
            <div class="flex-col">
                <div class="combotable_search_list  combo-search-wrapper mb-3">
                    <span class="material-icons global-search-icon" aria-label="search" aria-hidden="true">search</span>
                    <span *ngIf="isShownSearchLoader"
                        class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"></span>
                  
                        <kendo-multicolumncombobox [data]="providerSearchResult" textField="fullName"
                        valueField="clientId" [fillMode]="formUiStyle.dropDownFillMode"
                        placeholder="Search Client Name, ID Number, DOB, or SSN"
                        [popupSettings]="{popupClass: 'combotable_search_list', animate: true }" [filterable]="true"
                        formControlName="itemSelected">
                        <button kendoButton fillMode="clear" icon="image"></button>

                        <kendo-combobox-column >
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span>{{ dataItem.fullName }}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="100">
                              <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                  <span class="text-muted">ID:{{ dataItem.clientId }}</span>
                              </ng-template>
                          </kendo-combobox-column>
                          <kendo-combobox-column [width]="80">
                              <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                  <span class="text-muted">{{ dataItem.status }}</span>
                              </ng-template>
                          </kendo-combobox-column>

                        <kendo-combobox-column [width]="140">
                            <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                <span class="text-muted"><em> DOB:</em> {{ dataItem.dob }}</span>
                            </ng-template>
                        </kendo-combobox-column>
                        <kendo-combobox-column [width]="160">
                              <ng-template kendoMultiColumnComboBoxColumnCellTemplate let-dataItem>
                                  <span class="text-muted"><em> SSN:</em> {{ dataItem.ssn }}</span>
                              </ng-template>
                          </kendo-combobox-column>

                    </kendo-multicolumncombobox>
                </div>
            </div>
        </div>
        <div>
            <div class="app-c-table">
                  <kendo-grid [resizable]="true"  
                         [sortable]="true"   
                       [resizable]="true"
                          
                        [data]="addPremiumGridLists$ | async">
                        <kendo-grid-checkbox-column   [showSelectAll]="true"  [width]="40"></kendo-grid-checkbox-column>
                        <kendo-grid-column field="insuranceCarrier" title="Insurance Carrier" [width]="160">
                            
                        </kendo-grid-column>
                         
                        <kendo-grid-column field="planName" title="Plan Name" [width]="180">
                        </kendo-grid-column>
                        <kendo-grid-column field="type" title="Insurance Type" [width]="160">
                        </kendo-grid-column>
                        <kendo-grid-column field="dates" title="Coverage Dates" [width]="160">
                        </kendo-grid-column>
                        <kendo-grid-column field="amount" title="Premium Amount" [width]="160">
                            <ng-template kendoGridCellTemplate let-dataItem>
                                <span class="tableamountview"> <strong>$</strong> {{dataItem.totalAmount}}</span>
                              </ng-template> 
                        </kendo-grid-column>
                        
                         <ng-template kendoGridLoadingTemplate>
                              <common-grid-loader-component></common-grid-loader-component>
                        </ng-template>
                        <!-- grid No data Template -->
                        <ng-template kendoGridNoRecordsTemplate>
                              <div> <kendo-badge-container> <span class="material-icons"> info </span>
                                    </kendo-badge-container>
                              </div>
                              <p>There is no data to display.</p>
                        </ng-template>
            
                  </kendo-grid>
            </div>
        </div>
    </section>
    
    <kendo-dialog-actions>
      <div class="justify-content-between">
        <div class="justify-content-end">
          <button
            kendoButton
            [primary]="true"
            look="outline"
            aria-label="cancel" 
            (click)="closeAddPremiumClicked()"
          >
            Cancel
          </button>
          <button kendoButton [primary]="true" aria-label="Add"  >
              Add
          </button>
        </div>
      </div>
    </kendo-dialog-actions>
