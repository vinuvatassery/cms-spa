<section class="k-dialog-body" [formGroup]="contactForm">
  <p class="text-muted mb-2" *ngIf="!isFriendsorFamilyEditValue">
    All fields are required unless otherwise stated. Adding a new contact will
    deactivate the current one.
  </p>
  <p class="text-muted mb-2" *ngIf="isFriendsorFamilyEditValue">
    All fields are required unless otherwise stated.
  </p>
  <div class="flex-row">
    <div class="flex-col">
      <kendo-floatinglabel  text="Contact’s Name">
        <kendo-textbox aria-label="contacts name" formControlName="contactName" placeholder="Contact’s Name"  [fillMode]="formUiStyle.inputFillMode">   </kendo-textbox>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="fAfContact?.contactName.errors?.required">
        Contact's Name is required
      </kendo-formerror>
      <kendo-formerror *ngIf="fAfContact?.contactName.errors?.pattern">
        Special characters are not allowed except '-'
      </kendo-formerror>
    </div>
    <div class="flex-col">
      <kendo-floatinglabel text="Contact’s Relationship to Client">
        <span *ngIf="showLoaderOnRelationType$ | async" class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"  ></span>
        <kendo-dropdownlist [fillMode]="formUiStyle.dropDownFillMode" [data]="ddlRelationshipToClient$ | async"
        textField="lovDesc" valueField="lovCode" formControlName="relationshipType" [valuePrimitive]="true" >
        </kendo-dropdownlist>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="!contactForm.controls['relationshipType'].valid">Relationship is required.</kendo-formerror>
    </div>
    <div class="flex-col">
      <kendo-floatinglabel text="Contact’s Phone Number">
        <kendo-maskedtextbox
        [maskOnFocus]="true"
        aria-label="contacts phone number"
        [fillMode]="formUiStyle.inputFillMode"
        [maxlength]="10"
        formControlName="phoneNbr"
        mask="(999) 000-0000"
        placeholder="Contact's Phone Number"
        > </kendo-maskedtextbox>
      </kendo-floatinglabel>
      <kendo-formerror *ngIf="fAfContact?.phoneNbr?.errors?.required">
        Contact's Phone Number is required
      </kendo-formerror>
      <kendo-formerror *ngIf="fAfContact?.phoneNbr?.errors?.pattern">
        Not a valid phone number format
      </kendo-formerror>
    </div>
  </div>
</section>

<kendo-dialog-actions>
  <div class="justify-content-between">
    <div>
      <button
        *ngIf="isFriendsorFamilyEditValue"
        kendoButton
        [primary]="true"
        look="flat"
        aria-label="deactivate friends or family contact"
      >
        Deactivate
      </button>
    </div>
    <div class="justify-content-end">
      <button
        kendoButton
        [primary]="true"
        look="outline"
        aria-label="cancel adding friend or family contact"
        (click)="closePopup()"
      >
        Cancel
      </button>
      <button
        kendoButton
        [primary]="true"
        aria-label="add friend or family contact"
        (click)="createContact()"
      >
        Add
      </button>
    </div>
  </div>
</kendo-dialog-actions>
