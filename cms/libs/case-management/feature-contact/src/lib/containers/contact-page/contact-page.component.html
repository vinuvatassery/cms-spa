<div class="client-data-block">
  <h3>Contact Info</h3>
  <section>
    <form [formGroup]="contactInfoForm">
      <!-- Contact Email Details-->
      <div class="block-section" formGroupName="maillingAddress">
        <div class="flex-row">
          <div class="flex-col mat-split-list">
            <h5 class="text-capital">Mailing Address</h5>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Address Line 1">
              <kendo-textbox 
              textFieldautofocus
              aria-label="address line 1" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="100"
              formControlName="address1"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror> 
              Address line 1 is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Address Line 2 (Optional)">
              <kendo-textbox 
              aria-label="address line 2" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="100"
              formControlName="address2"
              > </kendo-textbox>
            </kendo-floatinglabel>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="City">
              <kendo-textbox 
              aria-label="city" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="20"
              formControlName="city"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>City is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-3">
            <kendo-formfield>
            <kendo-floatinglabel text="State">
              <kendo-dropdownlist 
              aria-label="State" 
              [fillMode]="formUiStyle.dropDownFillMode"
              formControlName="state"
              [data]="ddlStates$ | async"
              textField="stateName"
              valueField="stateCode"
              [valuePrimitive]="true"
              >
              </kendo-dropdownlist>
            </kendo-floatinglabel>
            <kendo-formerror>State is required</kendo-formerror>
          </kendo-formfield>
          </div>
          <div class="flex-col flex-col-3">
            <kendo-formfield>
            <kendo-floatinglabel text="Zip" class="">
              <kendo-textbox 
              aria-label="Zip" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="10"
              formControlName="zip"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>Zip is required</kendo-formerror>
          </kendo-formfield>
          </div>
          <div class="flex-col flex-col-3 mt-04" *ngIf="showMailAddressValidationLoader$ | async">
            <span class="app-c-badge  mt-3">       
              <span class="k-icon k-i-loading k-input-loading-icon input-inline-loader"  ></span>
              <span> Validating address...</span> 
            </span>           
          </div>
        </div>    
        <div class="flex-row" *ngIf="mailingAddressIsNotValid">
          <div class="flex-col flex-col-6">
          <span class="app-c-badge badge-warn-light mt-3">       
            <span class="material-icons" aria-label="income Information" aria-hidden="true">
              info
            </span>
                USPS can't validate this address.
          </span>   
        </div>       
        </div>
      </div>
      <div class="block-section"  formGroupName="homeAddress">
        <div class="flex-row">
          <div class="flex-col mat-split-list mt-2">
            <h5 class="text-capital">Home Address</h5>
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              type="checkbox" 
              id="sameAsMailingAddressFlag" 
              kendoCheckBox 
         
            
              formControlName="sameAsMailingAddressFlag"
               />
              <label class="k-checkbox-label" for="sameAsMailingAddressFlag">Same as Mailing Address</label>

            </span>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row mt-1">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Address Line 1">
              <kendo-textbox 
              aria-label="address line 1" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="100"
              formControlName="address1"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>Address line 1 is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Address Line 2 (Optional)">
              <kendo-textbox 
              aria-label="address line 2" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="100"
              formControlName="address2"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>Address line 1 is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="City">    
              <kendo-textbox 
              aria-label="city" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="20"
              formControlName="city"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>City is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-3">
            <kendo-formfield>
            <kendo-floatinglabel text="State">
              <kendo-dropdownlist 
              aria-label="State" 
              [fillMode]="formUiStyle.dropDownFillMode"
              [data]="ddlStates$ | async"
              formControlName="state"              
              textField="stateName"
              valueField="stateCode"
              [valuePrimitive]="true"
              (valueChange)="onStateChange($event)"
                >
              </kendo-dropdownlist>
            </kendo-floatinglabel>
            <kendo-formerror>State is required</kendo-formerror>
          </kendo-formfield>
          </div>
          <div class="flex-col flex-col-3">
            <kendo-formfield>
            <kendo-floatinglabel text="Zip">
              <kendo-textbox 
              aria-label="zip optional" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="10"
              formControlName="zip"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>Zip is required</kendo-formerror>
          </kendo-formfield>
          </div>
          <div class="flex-col flex-col-3 mt-04" *ngIf="showHomeAddressValidationLoader$ | async">
            <span class="app-c-badge  mt-3">       
              <span class="k-icon k-i-loading k-input-loading-icon input-inline-loader"  ></span>
              <span> Validating address...</span> 
            </span>           
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="County" class="inline-search-loader">
              <span *ngIf="showCountyLoader | async" class=" k-icon k-i-loading k-input-loading-icon input-inline-loader"  ></span>
              <kendo-dropdownlist 
              aria-label="County" 
              [fillMode]="formUiStyle.dropDownFillMode"
              formControlName="county"
              [data]="ddlCountries$ | async"
              textField="countyName"
              valueField="countyCode"
              [valuePrimitive]="true"
              >
              </kendo-dropdownlist>
            </kendo-floatinglabel>
            <kendo-formerror>County is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row" *ngIf="homeAddressIsNotValid">
          <div class="flex-col flex-col-6">
          <span class="app-c-badge badge-warn-light mt-3">
            <span class="material-icons" aria-label="income Information" aria-hidden="true">
              info
            </span>
                USPS can't validate this address.
          </span>   
        </div>       
        </div>
        <div class="flex-row">
          <div class="flex-col p-2">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              class="adjust-attr"
              type="checkbox" 
              id="homeAddress_homelessFlag" 
              name="homeAddress_homelessFlag"
              kendoCheckBox 
              aria-labelledby="homeAddress_homelessFlag"
              formControlName="homelessFlag"
               />
              <label class="k-checkbox-label" for="homeAddress_homelessFlag">Houseless</label>
            </span>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row mt-2">
          <div class="flex-col mat-split-list mt-2">
            <h5 class="text-capital">Proof of Home Address</h5>
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              class="adjust-attr"
              type="checkbox" 
              id="noHomeAddressProofFlag" 
              kendoCheckBox 
              aria-labelledby="noHomeAddressProofFlag"
              name="homeAddress_proofFlag"
              formControlName="noHomeAddressProofFlag"              
                />
              <label class="k-checkbox-label" for="noHomeAddressProofFlag">No proof of home address or residency</label>
            </span>
          </kendo-formfield>
          </div>
        </div>        
        <div class="flex-row mt-2">
          <div class="flex-col flex-col-10">
            <!-- <kendo-label class="k-checkbox-label" for="homeAddressProofUploaded" text="Proof of home address"> -->
            <kendo-fileselect 
            aria-label="proof of home address"  
            name="upload proof"
            [disabled]="isNoProofOfHomeChecked"
            [restrictions]="fileUploadRestrictions" 
            [multiple]="false"   
            (select)="handleFileSelected($event)" 
            (remove)="handleFileRemoved($event)"            
            [ngModel]="homeAddressProofFile"  
            [ngModelOptions]="{standalone: true}"
            id="homeAddressProofUploaded"
            #homeAddressProofUploaded>
          </kendo-fileselect>
        <!-- </kendo-label> -->
          <kendo-formhint>Max file size 25MB</kendo-formhint> 
          <kendo-formerror *ngIf="showAddressProofRequiredValidation"> Proof of home address is required
          </kendo-formerror>
          </div>
        </div>
        <fieldset class="k-form-fieldset">  
        <div class="flex-row mt-2">
          <div class="flex-col mat-split-list mt-2">
            <legend class="k-form-legend"> <h5 class="text-capital">How stable is your housing?</h5></legend> 
          </div>
        </div>
          <div class="flex-row ml-1"> 
            <kendo-formfield>
              <span class="app-radiobtnwidtext-wrapper">
                <input
                  type="radio"
                  kendoRadioButton
                  name="housingStabilityCode" 
                  id="StableOrPermanent" 
                  class="form-control" 
                  aria-labelledby="StableOrPermanent"
                  formControlName="housingStabilityCode"
                  value="STABLE_PERMANENT"
                />
                <kendo-label   class="k-radio-label"   text="Stable/Permanent"  for="StableOrPermanent"  > &nbsp;</kendo-label>
              </span>
              <span class="app-radiobtnwidtext-wrapper">
                <input
                  type="radio"
                  kendoRadioButton
                  name="housingStabilityCode" 
                  id="temporary" 
                  aria-labelledby="temporary"
                  class="form-control" 
                  formControlName="housingStabilityCode"
                  value="TEMP"
                />
                <kendo-label
                  class="k-radio-label"
                  text="Temporary"
                  for="temporary"
                ></kendo-label>
              </span>
              <span class="app-radiobtnwidtext-wrapper">
                <input
                  type="radio"
                  kendoRadioButton
                  name="housingStabilityCode"
                  aria-labelledby="unstable"
                  id="unstable" 
                  class="form-control" 
                  formControlName="housingStabilityCode"
                  value="UNSTABLE"
                />
                <kendo-label
                  class="k-radio-label"
                  text="Unstable"
                  for="unstable"
                ></kendo-label>
              </span>
              <kendo-formerror>How stable is your housing is required</kendo-formerror>
          </kendo-formfield>
        </div>
        </fieldset>   
      </div>
      <!-- Contact Phone Details-->
      <div class="block-section" formGroupName="homePhone">
        <h5 class="text-capital mt-3 pt-2 mb-0">Phone & Email</h5>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Home Phone">
              <kendo-maskedtextbox 
              aria-label="home phone" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="10"
              formControlName="phoneNbr"
              mask="(999) 000-0000"
              > </kendo-maskedtextbox>
            </kendo-floatinglabel>
            <kendo-formerror *ngIf="homePhone?.phoneNbr?.errors?.required">
              Home phone is required
            </kendo-formerror>
            <kendo-formerror *ngIf="homePhone?.phoneNbr?.errors?.pattern">
              Not a valid phone number format
            </kendo-formerror>
          </kendo-formfield>
          </div>
          <div class="flex-col flex-col-6 mt-checkbox">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              class="adjust-attr"
              type="checkbox" 
              id="homePhone_applicableFlag"   
              name="homePhone_applicableFlag"           
              kendoCheckBox
              aria-labelledby="homePhone_applicableFlag"
              formControlName="applicableFlag" 
                />
              <label class="k-checkbox-label"  for="homePhone_applicableFlag">Not Applicable</label>
            </span>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row mt-1 pl-2  ">
          <div class="flex-col">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              type="checkbox" 
              kendoCheckBox 
              aria-labelledby="detailMsgConsentFlag4"
              id="detailMsgConsentFlag4"  
              formControlName="detailMsgConsentFlag"
              />
              <label class="k-checkbox-label" for="detailMsgConsentFlag4">Detailed Messages OK</label>
            </span>
          </kendo-formfield>
          </div>
          <div class="flex-col">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              type="checkbox" 
              id="smsTextConsentFlag1" 
              aria-labelledby="smsTextConsentFlag1"
              kendoCheckBox  
              formControlName="smsTextConsentFlag"
              />
              <label class="k-checkbox-label" for="smsTextConsentFlag1">SMS Text OK</label>
            </span>
          </kendo-formfield>
          </div>
        </div>
      </div>
      <div class="block-section" formGroupName="cellPhone">
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Cell Phone">
              <kendo-maskedtextbox 
      
              aria-label="Cell Phone"
              [disabled]="isNoCellPhoneChecked" 
              [maxlength]="10"
              [fillMode]="formUiStyle.inputFillMode"
              formControlName="phoneNbr"
              mask="(999) 000-0000"
              > </kendo-maskedtextbox>        
            </kendo-floatinglabel>
            <kendo-formerror *ngIf="cellPhone?.phoneNbr?.errors?.required">
              Cell phone is required
            </kendo-formerror>
            <kendo-formerror *ngIf="cellPhone?.phoneNbr?.errors?.pattern">
              Not a valid phone number format
            </kendo-formerror>
          </kendo-formfield>
          </div>
          <div class="flex-col flex-col-6 mt-checkbox">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              class="adjust-attr"
              type="checkbox" 
              id="cellPhone_applicableFlag" 
              name="cellPhone_applicableFlag"   
              aria-labelledby="cellPhone_applicableFlag"           
              kendoCheckBox   
              formControlName="applicableFlag"
                />
              <label class="k-checkbox-label" for="cellPhone_applicableFlag">Not Applicable</label>
            </span>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row mt-1 pl-2  ">
          <div class="flex-col">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              type="checkbox" 
              id="detailMsgConsentFlag1" 
              aria-labelledby="detailMsgConsentFlag1"   
              kendoCheckBox 
              formControlName="detailMsgConsentFlag"
              />
              <label class="k-checkbox-label" for="detailMsgConsentFlag1">Detailed Messages OK</label>
            </span>
          </kendo-formfield>
          </div>
          <div class="flex-col">
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              type="checkbox" 
              id="smsTextConsentFlag2" 
              kendoCheckBox 
              aria-labelledby="smsTextConsentFlag2"   
              formControlName="smsTextConsentFlag"
              />
              <label class="k-checkbox-label" for="smsTextConsentFlag2">SMS Text OK</label>
            </span>
          </kendo-formfield>
          </div>
        </div>
      </div>
      <div class="block-section" formGroupName="workPhone">
        <div class="block-section mt-1">
          <div class="flex-row">
            <div class="flex-col flex-col-6">
              <kendo-formfield>
              <kendo-floatinglabel text="Work Phone">
                <kendo-maskedtextbox 
                aria-label="work phone" 
                [disabled]="isNoWorkPhoneChecked"
                [fillMode]="formUiStyle.inputFillMode"
                [maxlength]="10"
                formControlName="phoneNbr"
                mask="(999) 000-0000"
                > </kendo-maskedtextbox>
              </kendo-floatinglabel>
              <kendo-formerror *ngIf="workPhone.phoneNbr.errors?.required">
                Work phone is required
              </kendo-formerror>
              <kendo-formerror *ngIf="workPhone.phoneNbr.errors?.pattern">
                Not a valid phone number format
              </kendo-formerror>
            </kendo-formfield>
            </div>
            <div class="flex-col flex-col-6 mt-checkbox">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                class="adjust-attr"
                type="checkbox" 
                id="workPhone_applicableFlag" 
                name="workPhone_applicableFlag"
                kendoCheckBox                 
                formControlName="applicableFlag"
                aria-labelledby="workPhone_applicableFlag"   
                />
                <label class="k-checkbox-label" for="workPhone_applicableFlag">Not Applicable</label>
              </span>
            </kendo-formfield>
            </div>
          </div>
          <div class="flex-row mt-1 pl-2  ">
            <div class="flex-col">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                type="checkbox" 
                id="detailMsgConsentFlag2" 
                kendoCheckBox  
                aria-labelledby="detailMsgConsentFlag2"   
                formControlName="detailMsgConsentFlag"
                />
                <label class="k-checkbox-label" for="detailMsgConsentFlag2">Detailed Messages OK</label>
              </span>
            </kendo-formfield>
            </div>
            <div class="flex-col">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                type="checkbox" 
                id="smsTextConsentFlag3" 
                kendoCheckBox  
                aria-labelledby="smsTextConsentFlag3"  
                formControlName="smsTextConsentFlag"
                />
                <label class="k-checkbox-label" for="smsTextConsentFlag3">SMS Text OK</label>
              </span>
            </kendo-formfield>
            </div>
          </div>
        </div>
      </div>
      <div class="block-section" formGroupName="otherPhone">
        <div class="block-section mt-1">
          <div class="flex-row">
            <div class="flex-col flex-col-6">
              <kendo-formfield>
              <kendo-floatinglabel text="Other Phone">
                <kendo-maskedtextbox 
                [disabled]="isNoOtherPhoneChecked" 
                aria-label="other phone"
                [fillMode]="formUiStyle.inputFillMode"
                [maxlength]="10"
                formControlName="phoneNbr"
                mask="(999) 000-0000"
                > </kendo-maskedtextbox>
              </kendo-floatinglabel>
              <kendo-formerror *ngIf="otherPhone.phoneNbr.errors?.required">
                Other phone is required
              </kendo-formerror>
              <kendo-formerror *ngIf="otherPhone.phoneNbr.errors?.pattern">
                Not a valid phone number format
              </kendo-formerror>
            </kendo-formfield>
            </div>
            <div class="flex-col flex-col-3">
              <kendo-formfield>
              <kendo-floatinglabel text="Note">
                <kendo-textbox 
                [disabled]="isNoOtherPhoneChecked" 
                aria-label="note"
                [fillMode]="formUiStyle.inputFillMode"
                [maxlength]="100"
                formControlName="otherPhoneNote"
                  > </kendo-textbox>
              </kendo-floatinglabel>
              <kendo-formerror>Note is required</kendo-formerror>
            </kendo-formfield>
            </div>
            <div class="flex-col flex-col-3 mt-checkbox">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                class="adjust-attr"
                type="checkbox" 
                id="otherPhone_applicableFlag" 
                name="otherPhone_applicableFlag"
                kendoCheckBox                 
                formControlName="applicableFlag"
                aria-labelledby="otherPhone_applicableFlag"  
                />
                <label class="k-checkbox-label" for="otherPhone_applicableFlag">Not Applicable</label>
              </span>
            </kendo-formfield>
            </div>
          </div>
          <div class="flex-row mt-1 pl-2  ">
            <div class="flex-col">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                type="checkbox" 
                id="detailMsgConsentFlag3" 
                kendoCheckBox 
                formControlName="detailMsgConsentFlag"
                aria-labelledby="detailMsgConsentFlag3"  
                />
                <label class="k-checkbox-label" for="detailMsgConsentFlag3">Detailed Messages OK</label>
              </span>
            </kendo-formfield>
            </div>
            <div class="flex-col">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                type="checkbox" 
                id="smsTextConsentFlag4" 
                kendoCheckBox   
                formControlName="smsTextConsentFlag"
                aria-labelledby="smsTextConsentFlag4"  
                />
                <label class="k-checkbox-label" for="smsTextConsentFlag4">SMS Text OK</label>
              </span>
            </kendo-formfield>
            </div>
          </div>
        </div>
      </div>
      <div class="block-section" formGroupName="email">
        <div class="block-section mt-1">
          <div class="flex-row">
            <div class="flex-col flex-col-6">
              <kendo-formfield>
              <kendo-floatinglabel text="Email Address (Optional)">
                <kendo-textbox 
                aria-label="email address optional"
                [fillMode]="formUiStyle.inputFillMode"
                [maxlength]="100"
                formControlName="email"
                > </kendo-textbox>
              </kendo-floatinglabel>
              <kendo-formerror *ngIf="email.email.errors?.email">
                Not a valid email format
              </kendo-formerror>
            </kendo-formfield>
            </div>
            <div class="flex-col flex-col-6 mt-checkbox">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                class="adjust-attr"
                type="checkbox" 
                id="email_applicableFlag" 
                name="email_applicableFlag"
                kendoCheckBox  
                formControlName="applicableFlag" 
                aria-labelledby="email_applicableFlag"  
                />
                <label class="k-checkbox-label" for="email_applicableFlag">Not Applicable</label>
              </span>
            </kendo-formfield>
            </div>
          </div>
          <div class="flex-row mt-1 pl-2  ">
            <div class="flex-col">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                type="checkbox" 
                id="detailedMessageOk" 
                kendoCheckBox  
                formControlName="detailMsgFlag"
                aria-labelledby="detailedMessageOk"  
                />
                <label class="k-checkbox-label" for="detailedMessageOk"  >Detailed Messages OK</label>
              </span>
            </kendo-formfield>
            </div>
            <div class="flex-col">
              <kendo-formfield>
              <span class="app-checkboxwidtext-wrapper">
                <input 
                type="checkbox" 
                id="gopaperless" 
                kendoCheckBox  
                formControlName="goPapperlessFlag"
                aria-labelledby="gopaperless"  
                />
                <label class="k-checkbox-label" for="gopaperless">Go paperless and send important notices via email, when
                  possible</label>
              </span>
            </kendo-formfield>
            </div>
          </div>
        </div>
        <div class="block-section mt-1">
          <div class="flex-row">
            <div class="flex-col flex-col-6">
              <kendo-formfield>
              <kendo-floatinglabel text="Preferred Contact">
                <kendo-dropdownlist 
                aria-labelledby="Preferred Contact" 
                [fillMode]="formUiStyle.dropDownFillMode" 
                [data]="preferredContactMethods"
                [disabled]="preferredContactMethods.length === 0"
                formControlName="preferredContactMethod"
                >
                </kendo-dropdownlist>
              </kendo-floatinglabel>
              <kendo-formerror>Preferred contact is required</kendo-formerror>
            </kendo-formfield>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Contact Family and dependent details -->
      <div class="block-section" formGroupName="familyAndFriendsContact">
        <div class="flex-row">
          <div class="flex-col mat-split-list mt-2">
            <h5 class="text-capital">Friends or Family Contact</h5>
            <kendo-formfield>
            <span class="app-checkboxwidtext-wrapper">
              <input 
              class="adjust-attr"
              type="checkbox" 
              id="noFriendOrFamilyContactFlag" 
              name="familyAndFriendsContact_noFriendOrFamilyContactFlag"
              kendoCheckBox       
              formControlName="noFriendOrFamilyContactFlag"
              aria-labelledby="noFriendOrFamilyContactFlag" 
              />
              <label class="k-checkbox-label" for="noFriendOrFamilyContactFlag">No friend or family contact</label>
            </span>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Contact's Name">
              <kendo-textbox 
              aria-label="contacts name" 
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="40"
              formControlName="contactName"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>Contacts name is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Contact's Relationship to Client">
              <kendo-dropdownlist 
              aria-label="Contact's Relationship to Client" 
              [fillMode]="formUiStyle.dropDownFillMode" 
              [data]="ddlRelationships$ | async"
              [disabled]="isNoFriendsOrFamilyChecked"
              textField="lovDesc"
              valueField="lovCode"
              [valuePrimitive]="true"
              formControlName="contactRelationshipCode"
              >
              </kendo-dropdownlist>
            </kendo-floatinglabel>
            <kendo-formerror>Contact's relationship to client is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row" *ngIf="showRelationshipOtherDec">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Description">
              <kendo-textbox              
              aria-label="other description"
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="50"
              formControlName="otherDesc"
              > </kendo-textbox>
            </kendo-floatinglabel>
            <kendo-formerror>Description is required</kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col flex-col-6">
            <kendo-formfield>
            <kendo-floatinglabel text="Contact's Phone Number">
              <kendo-maskedtextbox 
              [disabled]="isNoFriendsOrFamilyChecked" 
              aria-label="contacts phone number"
              [fillMode]="formUiStyle.inputFillMode"
              [maxlength]="10"
              formControlName="contactPhoneNbr"
              mask="(999) 000-0000"
              > </kendo-maskedtextbox>
            </kendo-floatinglabel>
             <kendo-formerror *ngIf="fAfContact?.contactPhoneNbr?.errors?.required">
              Contact's phone number is required
            </kendo-formerror>
            <kendo-formerror *ngIf="fAfContact?.contactPhoneNbr?.errors?.pattern">
              Not a valid phone number format 
            </kendo-formerror>
          </kendo-formfield>
          </div>
        </div>
      </div>
    </form>
  </section>
</div>

<!-- Mail Address Validation Modal -->
<kendo-dialog *ngIf="mailAddressValidationPopupVisibility$ | async" (close)="onAddressValidationCloseClicked('M')"
  class="app-c-modal app-c-modal-md app-c-modal-np" title="Mailing Address Validation">
  <section class="k-dialog-body mb-2">
    <div *ngIf="mailingAddressIsNotValid">
      <p >
        We cannot validate the address below. Please review and make edits if needed.
      </p>
        <div class="mt-2 ml-3">
        <p>  {{mailAddressEntered?.address1 | uppercase }}   </p>   
       <p> {{mailAddressEntered?.address2 | uppercase }}   </p>  
       <p>    {{mailAddressEntered?.city | uppercase }}, {{mailAddressEntered?.state}} {{mailAddressEntered?.zip5}}</p>
       
        </div> 
    </div>
   <div *ngIf="!mailingAddressIsNotValid">
    <p >
      We found the address similar to the one entered. Please select which one to use.
    </p>
    <form [formGroup]="selectedAddressForm">
    <kendo-formfield>
    <div class="flex-row mt-4">
      <div class="flex-col flex-col-6">
          <span>
          <input
          type="radio"
          id="choosenmailAddressEntered" 
          name="choosenAddress"  
          value="addressEntered" 
          formControlName="choosenAddress"             
          kendoRadioButton
          aria-labelledby="choosenmailAddressEntered" 
          />
          <kendo-label for="choosenmailAddressEntered" text="Address Entered"></kendo-label> 
        </span>
        <div class="mt-2 ml-3">
      <p>  {{mailAddressEntered?.address1 | uppercase }} </p> 
      <p> {{mailAddressEntered?.address2 | uppercase }} </p> 
      <p>  {{mailAddressEntered?.city | uppercase }}, {{mailAddressEntered?.state}} {{mailAddressEntered?.zip5}}</p>
        </div >
      </div>
      <div class="flex-col flex-col-6">
          <span>
          <input
          type="radio"
          id="choosenmailAddressSuggested"
          name="choosenAddress" 
          value="addressSuggested"
          formControlName="choosenAddress"
          aria-labelledby="choosenmailAddressSuggested" 
          kendoRadioButton
          />
          <kendo-label for="choosenmailAddressSuggested" text="Suggested Address"></kendo-label>  
        </span>
      <div class="mt-2 ml-3">
        <p>   {{mailAddressSuggested?.address1}}</p>
        <p>  {{mailAddressSuggested?.address2}} </p>
        <p>  {{mailAddressSuggested?.city}}, {{mailAddressSuggested?.state}} {{mailAddressSuggested?.zip5}}-{{mailAddressSuggested?.zip4}}</p>
      </div>
      </div>
    </div> 
  </kendo-formfield>    
</form>
   </div>
  </section>
  <kendo-dialog-actions>
    <div class="justify-content-between">
      <div class="justify-content-end">
        <button kendoButton [primary]="true" (click)="onAddressValidationCloseClicked('M')" aria-label="OKAY" *ngIf="mailingAddressIsNotValid">
          OKAY
        </button>
        <button kendoButton [primary]="true" (click)="onUseSelectedAddressClicked('M')"  aria-label="USE SELECTED ADDRESS" *ngIf="!mailingAddressIsNotValid">
          USE SELECTED ADDRESS
        </button>
      </div>
    </div>
  </kendo-dialog-actions>
</kendo-dialog>

<!-- Home Address Validation Modal -->
<kendo-dialog *ngIf="homeAddressValidationPopupVisibility$ | async" (close)="onAddressValidationCloseClicked('H')"
  class="app-c-modal app-c-modal-sm app-c-modal-np" title="Home Address Validation">
  <section class="k-dialog-body mb-2">
    <div *ngIf="homeAddressIsNotValid">
      <p >
        We cannot validate the address below. Please review and make edits if needed.
      </p>
        <p class="mt-2 ml-3">
          {{homeAddressEntered?.address1 | uppercase }} <br>
          {{homeAddressEntered?.address2 | uppercase }} <br>
          {{homeAddressEntered?.city | uppercase }}, {{homeAddressEntered?.state}} {{homeAddressEntered?.zip5}}
        </p> 
    </div>
   <div *ngIf="!homeAddressIsNotValid">
    <p >
      We found the address similar to the one entered. Please select which one to use.
    </p>
    <form [formGroup]="selectedAddressForm">
    <kendo-formfield>
    <div class="flex-row mt-4">
      <div class="flex-col flex-col-6">
          <span>
          <input
          type="radio"
          id="choosenhomeAddressEntered" 
          name="choosenAddress" 
          aria-labelledby="address entered"
          value="addressEntered" 
          formControlName="choosenAddress"             
          kendoRadioButton
          aria-labelledby="choosenhomeAddressEntered" 
          />
          <kendo-label for="choosenhomeAddressEntered" text="Address Entered"></kendo-label> 
        </span>
        <p class="mt-2 ml-3">
        {{homeAddressEntered?.address1 | uppercase }} <br>
        {{homeAddressEntered?.address2 | uppercase }} <br>
        {{homeAddressEntered?.city | uppercase }}, {{homeAddressEntered?.state}} {{homeAddressEntered?.zip5}}
        </p>
      </div>
      <div class="flex-col flex-col-6">
          <span>
          <input
          type="radio"
          id="choosenhomeAddressSuggested"
          name="choosenAddress"
          aria-labelledby="choosenhomeAddressSuggested"
          value="addressSuggested"
          formControlName="choosenAddress"
          kendoRadioButton
          />
          <kendo-label for="choosenhomeAddressSuggested" text="Suggested Address"></kendo-label>  
        </span>
      <p class="mt-2 ml-3">
          {{homeAddressSuggested?.address1}} <br>
          {{homeAddressSuggested?.address2}} <br>
          {{homeAddressSuggested?.city}}, {{homeAddressSuggested?.state}} {{homeAddressSuggested?.zip5}}-{{homeAddressSuggested?.zip4}}
      </p>
      </div>
    </div> 
  </kendo-formfield>    
</form>
   </div>
  </section>
  <kendo-dialog-actions>
    <div class="justify-content-between">
      <div class="justify-content-end">
        <button kendoButton [primary]="true" (click)="onAddressValidationCloseClicked('H')" aria-label="OKAY" *ngIf="homeAddressIsNotValid">
          OKAY
        </button>
        <button kendoButton [primary]="true" (click)="onUseSelectedAddressClicked('H')"  aria-label="USE SELECTED ADDRESS" *ngIf="!homeAddressIsNotValid">
          USE SELECTED ADDRESS
        </button>
      </div>
    </div>
  </kendo-dialog-actions>
</kendo-dialog>